{"version":3,"sources":["images/demo_0.png","images/demo_1.png","images/demo_2.png","images/demo_3.png","images/demo_4.png","images/demo_5.png","images/demo_6.png","images/demo_7.png","images/demo_8.png","images/demo_9.png","images/demo_10.png","registerServiceWorker.js","components/NavbarItem/NavbarItem.js","components/NavbarDropdown/NavbarDropdown.js","components/NavbarInput/NavbarInput.js","components/Demo/Demo.js","components/Navbar/Navbar.js","components/SideMenu/SideMenu.js","components/CourseRating/CourseRating.js","components/TimeAgo/TimeAgo.js","components/CourseSummary/CourseSummary.js","components/ColorPicker/ColorPicker.js","components/CourseResult/CourseResult.js","components/Virtual/Virtual.js","components/InstructorResult/InstructorResult.js","components/FilterSelector/FilterSelector.js","components/MenuPane/MenuPane.js","components/DisplayScheduleSession/DisplayScheduleSession.js","components/DisplayScheduleDay/DisplayScheduleDay.js","components/DisplaySchedule/DisplaySchedule.js","components/DisplayCourseDetails/DisplayCourseDetails.js","components/SidePane/SidePane.js","components/DisplayCourse/DisplayCourse.js","components/DisplayPane/DisplayPane.js","components/Bubble/Bubble.js","components/App/App.js","components/Home/Home.js","index.js","images/precourser.svg"],"names":["module","exports","__webpack_require__","p","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","NavbarItem","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","expanded","demo","pathname","localStorage","getItem","setItem","toggle","bind","assertThisInitialized","collapse","handleClickOutside","setRef","setState","event","ref","contains","target","node","document","addEventListener","removeEventListener","display","description","alignRight","children","react_default","a","createElement","className","title","onClick","tabIndex","React","Children","map","child","cloneElement","collapseParent","Component","NavbarDropdown","items","selectedValue","onSelect","handleListItemClick","value","item","key","label","NavbarInput","defaultValue","copied","handleSubmitClick","handleChange","handleKeyDown","handleCopy","isFeedback","onSubmit","isReadOnly","trimmedValue","trim","replace","length","inputRef","select","execCommand","_this2","prompt","verb","type","maxLength","onChange","onKeyDown","onFocus","autoFocus","readOnly","onMouseOut","PAGES","image","pic0","text","pic1","pic2","pic3","pic4","pic5","pic6","pic7","pic8","pic9","pic10","Demo","page","changePage","e","stopPropagation","style","backgroundImage","concat","angle_left_default","angle_right_default","Navbar","semesters","selectedSemester","user","schedules","selectedSchedule","semesterLookup","onChangeSemester","onChangeSchedule","onCreateSchedule","onRenameSchedule","onDeleteSchedule","isEmpty","src","Logo","alt","href","components_NavbarItem_NavbarItem","name","arrow_drop_down_default","components_NavbarDropdown_NavbarDropdown","semester","_id","schedule","edit_default","components_NavbarInput_NavbarInput","add_circle_outline_default","delete_default","file_download_default","origin","ReactGA","category","action","help_outline_default","components_Demo_Demo","feedback_default","rel","feedback","encodeURIComponent","url","fetch","method","err","message","includes","SideMenu","keys","slice","position","tabLabels","fill","tab","sort","sign","handlePositionUp","handlePositionDown","handleTabClick","handleSortClick","contentBottom","scrollIntoView","_this3","contentTop","_this4","sortState","signState","positionState","stateUpdate","nextProps","updated","i","_this5","tabDescriptions","sortLabels","sortDescriptions","renderInput","renderContent","captionNouns","edge","tabs","push","sorts","input","content","noun","plural","start","end","caption","contentHeader","angle_up_default","contentFooter","angle_down_default","COLORS","CourseRating","score","stringToRgb","string","substring","rr","substr","gg","bb","parseInt","rgbToHsl","rgb","r","g","b","max","Math","min","h","s","l","d","scaledScore","scoreUpper","ceil","scoreLower","colorLower","rgbUpper","rgbLower","hslUpper","hsl","hslToString","hsl1","hsl2","x1","x2","x","hslLinearGradient","_new","new","getColor","backgroundColor","toFixed","TimeAgo","number","unit","diff","now","round","clock_o_default","CourseSummary","departmentLookup","distributionLookup","pdfLookup","auditLookup","course","showInstructors","showStrictRatings","showSemester","saved","savedCourses","department","catalogNumber","crossListings","crossListing","join","instructors","instructor","fullName","distribution","pdf","toLowerCase","audit","star_default","components_CourseRating_CourseRating","rating","components_TimeAgo_TimeAgo","Date","lastModified","status","lock_default","seatsTaken","seatsTotal","ColorPicker","renderColorPick","c","onChangeCourseColorInSchedule","toUpperCase","colors","colorLookup","color","CourseResult","selectedCourse","onSelectCourse","onUnselectCourse","onSaveCourse","onUnsaveCourse","onAddCourseToSchedule","onRemoveCourseFromSchedule","onMouseOverCourse","onMouseOutCourse","showButtons","inSchedule","courses","selected","validButton","onMouseOver","components_ColorPicker_ColorPicker","components_CourseSummary_CourseSummary","close_default","info_circle_default","minus_default","plus_default","Virtual","fetchJson","init","credentials","response","Error","statusText","res","json","fetchJsonAndSetState","object","InstructorResult","loaded","undefined","handleLoadInstructor","instructorId","pageview","setTimeout","circle_o_notch_default","history","ratedCourses","phone","email","office","components_CourseResult_CourseResult","FilterSelector","hovered","handleChangeTab","handleHover","term","onChangeCourseSearch","filters","values","lookups","menuItems","_loop","f","filterItems","_loop2","v","filter_default","MenuPane","courseSearch","waitingCourseSearch","loadingCourseSearch","searchedCourses","instructorSearch","waitingInstructorSearch","loadingInstructorSearch","searchedInstructors","onSearchCourse","onChangeInstructorSearch","onSearchInstructor","search_default","user_default","calendar_default","sort_amount_asc_default","sort_amount_desc_default","sort_alpha_asc_default","sort_alpha_desc_default","sort_numeric_desc_default","sort_numeric_asc_default","courseSortDepartmentCode","codeA","codeB","instructorSortName","courseLists","filter","components_SideMenu_SideMenu","placeholder","icon","ellipsis_h_default","components_FilterSelector_FilterSelector","ratingA","ratingB","components_InstructorResult_InstructorResult","DAYS","DisplayScheduleSession","mins","floor","hoveredCourse","hoveredSection","onAddSectionToSchedule","onRemoveSectionFromSchedule","onMouseOverSection","onMouseOutSection","minTime","maxTime","session","minsToString","meeting","section","top","startTime","bottom","endTime","sectionHovered","sectionTypeHovered","courseHovered","meetings","days","day","building","room","left","right","borderColor","opacity","DisplayScheduleDay","sessions","labels","displayScheduleSessions","orderedSessions","indexes","virtualFirstEntry","virtualLastEntry","j","index","lastEntryInIndex","indexEntry","upLeft","upRight","downLeft","downRight","prevIndex","lastEntryInPrevIndex","k","nextIndex","lastEntryInNextIndex","entry","entryChain","currentEntry","downLeftPositioned","lastEntry","xStart","xEnd","widthPer","effectiveLength","currentRight","widthPerActual","components_DisplayScheduleSession_DisplayScheduleSession","cells","DisplaySchedule","sessionsByDay","selectedCourses","hoveredCourseSelected","selectedSections","sections","similarButNotSelected","displayScheduleDays","components_DisplayScheduleDay_DisplayScheduleDay","DisplayCourseDetails","banner","reservedSeats","reservedSeat","grading","i1","i2","percent","component","readings","reading","author","heading","evaluations","numeric","written","field","renderBanner","renderText","renderNumericEvaluations","renderGrading","assignments","prerequisites","equivalentCourses","otherInformation","otherRequirements","renderReservedSeats","renderReadings","renderWrittenEvaluations","SidePane","history_default","courseSortSemester","getInstructorRating","scoreSum","scoreCount","renderIcon","renderFilter","DisplayCourse","esm","OutboundLink","eventLabel","to","systemId","list_alt_default","bar_chart_default","website","external_link_default","components_DisplayCourseDetails_DisplayCourseDetails","components_SidePane_SidePane","DisplayPane","components_DisplayCourse_DisplayCourse","components_DisplaySchedule_DisplaySchedule","Bubble","closed","App","departments","loading","functionsToBind","semesterId","scheduleId","query","clearTimeout","searchTimeout","handleSearchCourse","courseId","handleMouseOutCourse","sectionId","handleSearchInstructor","_this6","hoveredCourseTimeout","_this7","colorId","_this8","set","userId","nowInterval","setInterval","clearInterval","_this9","components_Navbar_Navbar","handleChangeSemester","handleChangeSchedule","handleCreateSchedule","handleRenameSchedule","handleDeleteSchedule","handleChangeCourseSearch","handleSelectCourse","handleUnselectCourse","handleSaveCourse","handleUnsaveCourse","handleAddCourseToSchedule","handleRemoveCourseFromSchedule","handleAddSectionToSchedule","handleRemoveSectionFromSchedule","handleChangeInstructorSearch","handleMouseOverCourse","handleMouseOverSection","handleMouseOutSection","handleChangeCourseColorInSchedule","colorNameLookup","EC","EM","HA","LA","SA","QR","STL","STN","W","PDF","NPDF","PDFO","XPDF","A","NA","XA","urlCourseId","params","components_MenuPane_MenuPane","components_DisplayPane_DisplayPane","components_Bubble_Bubble","Home","initialize","ReactDOM","render","BrowserRouter","Switch","Route","exact","path","getElementById","URL","process","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.5984d898.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/demo_0.3b8fbc5f.png\";","module.exports = __webpack_public_path__ + \"static/media/demo_1.b93dc04e.png\";","module.exports = __webpack_public_path__ + \"static/media/demo_2.5be758c9.png\";","module.exports = __webpack_public_path__ + \"static/media/demo_3.ba8ca5bf.png\";","module.exports = __webpack_public_path__ + \"static/media/demo_4.281faa76.png\";","module.exports = __webpack_public_path__ + \"static/media/demo_5.3ae0e12d.png\";","module.exports = __webpack_public_path__ + \"static/media/demo_6.a6fc6ee0.png\";","module.exports = __webpack_public_path__ + \"static/media/demo_7.4fa1e25c.png\";","module.exports = __webpack_public_path__ + \"static/media/demo_8.b50531da.png\";","module.exports = __webpack_public_path__ + \"static/media/demo_9.15f3da5d.png\";","module.exports = __webpack_public_path__ + \"static/media/demo_10.8ac264e9.png\";","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, { credentials: 'same-origin' })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { Component } from 'react';\r\nimport './NavbarItem.css';\r\n\r\nclass NavbarItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { expanded: false };\r\n\r\n    if (\r\n      props.demo &&\r\n      window.location.pathname !== '/home' &&\r\n      !localStorage.getItem('precourser-demo')\r\n    ) {\r\n      this.state = { expanded: true };\r\n      localStorage.setItem('precourser-demo', true);\r\n    }\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.collapse = this.collapse.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n    this.setRef = this.setRef.bind(this);\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({ expanded: !this.state.expanded });\r\n  }\r\n\r\n  collapse() {\r\n    this.setState({ expanded: false });\r\n  }\r\n\r\n  handleClickOutside(event) {\r\n    if (!this.ref.contains(event.target)) this.collapse();\r\n  }\r\n\r\n  setRef(node) {\r\n    this.ref = node;\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  render() {\r\n    const expanded = this.state.expanded;\r\n\r\n    const display = this.props.display;\r\n    const description = this.props.description;\r\n    const alignRight = this.props.alignRight;\r\n    const demo = this.props.demo;\r\n    const children = this.props.children;\r\n\r\n    const toggle = this.toggle;\r\n    const collapse = this.collapse;\r\n    const setRef = this.setRef;\r\n\r\n    return (\r\n      <div className=\"NavbarItem\" ref={setRef}>\r\n        <button\r\n          className={\r\n            'NavbarItem-display' + (expanded ? ' NavbarItem-active' : '')\r\n          }\r\n          title={description}\r\n          onClick={toggle}\r\n          tabIndex=\"0\"\r\n        >\r\n          {display}\r\n        </button>\r\n        {expanded\r\n          ? demo\r\n            ? React.Children.map(children, child =>\r\n                React.cloneElement(child, { collapseParent: collapse })\r\n              )\r\n            : <div\r\n                className={\r\n                  'NavbarItem-dropdown NavbarItem-align-' +\r\n                  (alignRight ? 'right' : 'left')\r\n                }\r\n              >\r\n                {React.Children.map(children, child =>\r\n                  React.cloneElement(child, { collapseParent: collapse })\r\n                )}\r\n              </div>\r\n          : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NavbarItem;\r\n","import React, { Component } from 'react';\r\nimport './NavbarDropdown.css';\r\n\r\nclass NavbarDropdown extends Component {\r\n  render() {\r\n    const collapseParent = this.props.collapseParent;\r\n    const items = this.props.items;\r\n    const selectedValue = this.props.selectedValue;\r\n    const onSelect = this.props.onSelect;\r\n\r\n    const handleListItemClick = value => {\r\n      onSelect(value);\r\n      collapseParent();\r\n    };\r\n\r\n    return (\r\n      <ul className=\"NavbarDropdown\">\r\n        {items.map(item =>\r\n          <li\r\n            key={item.value}\r\n            className={\r\n              'NavbarDropdown-item' +\r\n              (selectedValue === item.value ? ' NavbarDropdown-selected' : '')\r\n            }\r\n            onClick={handleListItemClick.bind(null, item.value)}\r\n            tabIndex=\"0\"\r\n          >\r\n            {item.label}\r\n          </li>\r\n        )}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NavbarDropdown;\r\n","import React, { Component } from 'react';\r\nimport './NavbarInput.css';\r\n\r\nconst MAX_NAME_LENGTH = 25;\r\nconst MAX_FEEDBACK_LENGTH = 200;\r\n\r\nclass NavbarInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: this.props.defaultValue,\r\n      copied: false,\r\n      error: null\r\n    };\r\n\r\n    this.handleSubmitClick = this.handleSubmitClick.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleKeyDown = this.handleKeyDown.bind(this);\r\n    this.handleCopy = this.handleCopy.bind(this);\r\n    this.setRef = this.setRef.bind(this);\r\n  }\r\n\r\n  handleSubmitClick() {\r\n    const value = this.state.value;\r\n\r\n    const collapseParent = this.props.collapseParent;\r\n    const defaultValue = this.props.defaultValue;\r\n    const isFeedback = this.props.isFeedback;\r\n    const onSubmit = this.props.onSubmit;\r\n    const isReadOnly = this.props.isReadOnly;\r\n\r\n    if (!defaultValue) {\r\n      onSubmit();\r\n      return collapseParent();\r\n    }\r\n\r\n    const trimmedValue = value.trim().replace(/\\s+/g, ' ');\r\n    if (isFeedback) {\r\n      if (trimmedValue.length > MAX_FEEDBACK_LENGTH) {\r\n        return this.setState({\r\n          error: 'Use the link for longer responses!'\r\n        });\r\n      }\r\n      if (!trimmedValue.length) {\r\n        return this.setState({\r\n          error: 'Tongue tied?'\r\n        });\r\n      }\r\n    } else if (!isReadOnly) {\r\n      if (trimmedValue.length > MAX_NAME_LENGTH) {\r\n        return this.setState({ error: 'Please enter a shorter name' });\r\n      }\r\n\r\n      if (!trimmedValue.length) {\r\n        return this.setState({ error: 'Please enter a valid name' });\r\n      }\r\n    }\r\n\r\n    onSubmit(trimmedValue);\r\n    collapseParent();\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ value: event.target.value });\r\n  }\r\n\r\n  handleKeyDown(event) {\r\n    if (event.key === 'Enter') {\r\n      this.handleSubmitClick();\r\n    }\r\n  }\r\n\r\n  handleCopy() {\r\n    this.inputRef.select();\r\n    document.execCommand('Copy');\r\n    this.setState({ copied: true });\r\n  }\r\n\r\n  setRef(node) {\r\n    this.inputRef = node;\r\n  }\r\n\r\n  // componentDidMount() {\r\n  //   if (this.props.defaultValue) this.inputRef.select();\r\n  // }\r\n\r\n  render() {\r\n    const value = this.state.value;\r\n    const error = this.state.error;\r\n    const copied = this.state.copied;\r\n\r\n    const collapseParent = this.props.collapseParent;\r\n    const prompt = this.props.prompt;\r\n    const defaultValue = this.props.defaultValue;\r\n    const isFeedback = this.props.isFeedback;\r\n    // const onSubmit = this.props.onSubmit;\r\n    const verb = this.props.verb;\r\n    const isReadOnly = this.props.isReadOnly;\r\n\r\n    const handleSubmitClick = this.handleSubmitClick;\r\n    const handleChange = this.handleChange;\r\n    const handleKeyDown = this.handleKeyDown;\r\n    const handleCopy = this.handleCopy;\r\n    const setRef = this.setRef;\r\n\r\n    return (\r\n      <div className=\"NavbarInput\">\r\n        <label className=\"NavbarInput-prompt\">\r\n          {prompt}\r\n        </label>\r\n        {defaultValue\r\n          ? <input\r\n              ref={setRef}\r\n              className=\"NavbarInput-input\"\r\n              type=\"text\"\r\n              value={value}\r\n              maxLength={isFeedback ? MAX_FEEDBACK_LENGTH : MAX_NAME_LENGTH}\r\n              onChange={handleChange}\r\n              onKeyDown={handleKeyDown}\r\n              onFocus={event => {\r\n                event.target.select();\r\n              }}\r\n              onClick={\r\n                isReadOnly\r\n                  ? event => {\r\n                      event.target.select();\r\n                    }\r\n                  : null\r\n              }\r\n              autoFocus={true}\r\n              readOnly={isReadOnly}\r\n            />\r\n          : null}\r\n        {error\r\n          ? <div className=\"NavbarInput-error\">\r\n              {error}\r\n            </div>\r\n          : null}\r\n        <div className=\"NavbarInput-buttons\">\r\n          <button\r\n            className={isReadOnly ? 'NavbarInput-submit' : 'NavbarInput-cancel'}\r\n            onClick={isReadOnly ? handleCopy : collapseParent}\r\n            onMouseOut={() => {\r\n              this.setState({ copied: false });\r\n            }}\r\n          >\r\n            {isReadOnly ? (copied ? 'Copied' : 'Copy') : 'Cancel'}\r\n          </button>\r\n          <button className=\"NavbarInput-submit\" onClick={handleSubmitClick}>\r\n            {verb}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NavbarInput;\r\n","import React, { Component } from 'react';\r\nimport FaAngleLeft from 'react-icons/lib/fa/angle-left';\r\nimport FaAngleRight from 'react-icons/lib/fa/angle-right';\r\nimport './Demo.css';\r\nimport pic0 from '../../images/demo_0.png';\r\nimport pic1 from '../../images/demo_1.png';\r\nimport pic2 from '../../images/demo_2.png';\r\nimport pic3 from '../../images/demo_3.png';\r\nimport pic4 from '../../images/demo_4.png';\r\nimport pic5 from '../../images/demo_5.png';\r\nimport pic6 from '../../images/demo_6.png';\r\nimport pic7 from '../../images/demo_7.png';\r\nimport pic8 from '../../images/demo_8.png';\r\nimport pic9 from '../../images/demo_9.png';\r\nimport pic10 from '../../images/demo_10.png';\r\n\r\nconst PAGES = [\r\n  {\r\n    image: pic0,\r\n    text:\r\n      \"Welcome to precourser! Here is a quick tour of the features you'll find useful for your course selection.\"\r\n  },\r\n  {\r\n    image: pic1,\r\n    text:\r\n      'Enter any search terms in the search bar. You can search by title, department, and more!'\r\n  },\r\n  {\r\n    image: pic2,\r\n    text:\r\n      'Click on the filter to explore all the search options: departments, distributions, P/D/F and audit options.'\r\n  },\r\n  {\r\n    image: pic3,\r\n    text:\r\n      'Click on a result to show/hide course information. Click the buttons to add a course to your schedule, or to save it.'\r\n  },\r\n  {\r\n    image: pic4,\r\n    text:\r\n      'The courses added to your schedule will appear to the right. Click on a section to select it for your schedule.'\r\n  },\r\n  {\r\n    image: pic5,\r\n    text:\r\n      'Click the buttons at the top of the page to change semester or to add/rename/delete schedules.'\r\n  },\r\n  {\r\n    image: pic6,\r\n    text:\r\n      'Click on the buttons at the top of the search pane to search for instructors, or view your saved/selected courses.'\r\n  },\r\n  {\r\n    image: pic7,\r\n    text:\r\n      'Click on an instructor result to display their contact information and all the courses they have taught.'\r\n  },\r\n  {\r\n    image: pic8,\r\n    text:\r\n      \"These buttons redirect you to the registrar's course offering pages. The cross hides the course information page.\"\r\n  },\r\n  {\r\n    image: pic9,\r\n    text:\r\n      'You can copy the link provided to export your precourser schedule into Google Calendar, or to download it in iCal format.'\r\n  },\r\n  {\r\n    image: pic10,\r\n    text:\r\n      'If you have any comments or thoughts please use the feedback form :) Happy course selection!'\r\n  }\r\n];\r\n\r\nclass Demo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      page: 0\r\n    };\r\n\r\n    this.changePage = this.changePage.bind(this);\r\n  }\r\n\r\n  changePage(page) {\r\n    if (page < 0) page = PAGES.length - 1;\r\n    if (page >= PAGES.length) page = 0;\r\n\r\n    this.setState({ page: page });\r\n  }\r\n\r\n  render() {\r\n    const collapseParent = this.props.collapseParent;\r\n\r\n    const page = this.state.page;\r\n    const changePage = this.changePage;\r\n\r\n    const image = PAGES[page].image;\r\n    const text = PAGES[page].text;\r\n\r\n    return (\r\n      <div\r\n        className=\"Demo\"\r\n        onClick={e => {\r\n          collapseParent();\r\n          e.stopPropagation();\r\n        }}\r\n      >\r\n        <div\r\n          className=\"Demo-popup\"\r\n          onClick={e => {\r\n            e.stopPropagation();\r\n          }}\r\n        >\r\n          <div\r\n            className=\"Demo-top\"\r\n            style={{ backgroundImage: `url(${image})` }}\r\n          />\r\n          <ul className=\"Demo-text\">\r\n            {text}\r\n          </ul>\r\n          <div className=\"Demo-buttons\">\r\n            <div\r\n              className=\"Demo-page\"\r\n              title={`Page ${page + 1} of ${PAGES.length}`}\r\n            >\r\n              {`${page + 1} / ${PAGES.length}`}\r\n            </div>\r\n            <button\r\n              className=\"Demo-button\"\r\n              title=\"Previous page\"\r\n              onClick={e => {\r\n                changePage(page - 1);\r\n                e.stopPropagation();\r\n              }}\r\n            >\r\n              <FaAngleLeft />\r\n            </button>\r\n            <button\r\n              className=\"Demo-button\"\r\n              title=\"Next page\"\r\n              onClick={e => {\r\n                changePage(page + 1);\r\n                e.stopPropagation();\r\n              }}\r\n            >\r\n              <FaAngleRight />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Demo;\r\n","import React, { Component } from 'react';\r\nimport ReactGA from 'react-ga';\r\nimport MdArrowDropDown from 'react-icons/lib/md/arrow-drop-down';\r\nimport MdEdit from 'react-icons/lib/md/edit';\r\nimport MdAddCircleOutline from 'react-icons/lib/md/add-circle-outline';\r\nimport MdDelete from 'react-icons/lib/md/delete';\r\nimport MdFileDownload from 'react-icons/lib/md/file-download';\r\nimport MdFeedback from 'react-icons/lib/md/feedback';\r\nimport MdHelpOutline from 'react-icons/lib/md/help-outline';\r\nimport NavbarItem from '../NavbarItem/NavbarItem';\r\nimport NavbarDropdown from '../NavbarDropdown/NavbarDropdown';\r\nimport NavbarInput from '../NavbarInput/NavbarInput';\r\nimport Demo from '../Demo/Demo';\r\nimport Logo from '../../images/precourser.svg';\r\nimport './Navbar.css';\r\n\r\n/*\r\nHow to get Google Forms working with ajax:\r\nhttps://stackoverflow.com/questions/29267773/how-to-post-google-forms-data-via-jquery-and-ajax-to-spreadsheets\r\n*/\r\n\r\nconst BASE_URL = 'https://docs.google.com/forms/d/e/';\r\nconst FORM_KEY = '1FAIpQLSfsJpCwzmklLlp4ziUqsAwLOQ3M9b3gRUQisMyoh-qPBqRYew';\r\nconst NETID_ENTRY = 'entry.1377308274';\r\nconst TEXT_ENTRY = 'entry.438515020';\r\n\r\nclass Navbar extends Component {\r\n  render() {\r\n    // only required when isEmpty is false\r\n    const semesters = this.props.semesters;\r\n    const selectedSemester = this.props.selectedSemester;\r\n    const user = this.props.user;\r\n    const schedules = this.props.schedules;\r\n    const selectedSchedule = this.props.selectedSchedule;\r\n    const semesterLookup = this.props.semesterLookup;\r\n    const onChangeSemester = this.props.onChangeSemester;\r\n    const onChangeSchedule = this.props.onChangeSchedule;\r\n    const onCreateSchedule = this.props.onCreateSchedule;\r\n    const onRenameSchedule = this.props.onRenameSchedule;\r\n    const onDeleteSchedule = this.props.onDeleteSchedule;\r\n\r\n    const isEmpty = this.props.isEmpty;\r\n\r\n    const handleSubmitFeedback = text => {\r\n      ReactGA.event({\r\n        category: 'Navigation',\r\n        action: 'Submitted Feedback'\r\n      });\r\n\r\n      const feedback = encodeURIComponent(text);\r\n      const url = `${BASE_URL}${FORM_KEY}/formResponse?${NETID_ENTRY}=${user._id}&${TEXT_ENTRY}=${feedback}`;\r\n\r\n      fetch(url, { method: 'POST' }).catch(err => {\r\n        // ignore if it's a cors issue, it goes through anyway\r\n        if (\r\n          err &&\r\n          err.message &&\r\n          err.message.includes(\r\n            \"No 'Access-Control-Allow-Origin' header is present on the requested resource.\"\r\n          )\r\n        ) {\r\n          return;\r\n        }\r\n        console.error(err);\r\n      });\r\n    };\r\n\r\n    const handleLogout = () => {\r\n      ReactGA.event({\r\n        category: 'Navigation',\r\n        action: 'Logged out'\r\n      });\r\n\r\n      if (process.env.NODE_ENV === 'production') {\r\n        window.location.href = '/auth/logout';\r\n      } else {\r\n        window.location.href = '/home';\r\n      }\r\n    };\r\n\r\n    const handleDownloadIcal = () => {\r\n      ReactGA.event({\r\n        category: 'Navigation',\r\n        action: 'Downloaded iCal'\r\n      });\r\n\r\n      window.location.href = `/ical/${selectedSchedule._id}.ics`;\r\n    };\r\n\r\n    return (\r\n      <nav className=\"Navbar\">\r\n        <div className=\"Navbar-brand\">\r\n          <img src={Logo} alt=\"logo\" className=\"Navbar-logo\" />\r\n          <a href=\"/home\" className=\"Navbar-title\" title=\"Home\">\r\n            precourser\r\n          </a>\r\n        </div>\r\n        {isEmpty\r\n          ? null\r\n          : [\r\n              <NavbarItem\r\n                key=\"semester\"\r\n                display={\r\n                  <span>\r\n                    {semesterLookup[selectedSemester].name} <MdArrowDropDown />\r\n                  </span>\r\n                }\r\n                description=\"Change semester\"\r\n              >\r\n                <NavbarDropdown\r\n                  items={semesters.map(semester => ({\r\n                    value: semester._id,\r\n                    label: semester.name\r\n                  }))}\r\n                  selectedValue={selectedSemester}\r\n                  onSelect={onChangeSemester}\r\n                />\r\n              </NavbarItem>,\r\n              <NavbarItem\r\n                key=\"schedule\"\r\n                display={\r\n                  <span>\r\n                    {selectedSchedule.name} <MdArrowDropDown />\r\n                  </span>\r\n                }\r\n                description=\"Change schedule\"\r\n              >\r\n                <NavbarDropdown\r\n                  items={schedules.map(schedule => ({\r\n                    value: schedule._id,\r\n                    label: schedule.name\r\n                  }))}\r\n                  selectedValue={selectedSchedule._id}\r\n                  onSelect={onChangeSchedule}\r\n                />\r\n              </NavbarItem>,\r\n              <NavbarItem\r\n                key=\"rename\"\r\n                display={<MdEdit />}\r\n                description=\"Rename schedule\"\r\n              >\r\n                <NavbarInput\r\n                  prompt=\"Rename your schedule:\"\r\n                  defaultValue={selectedSchedule.name}\r\n                  onSubmit={onRenameSchedule}\r\n                  verb=\"Rename\"\r\n                />\r\n              </NavbarItem>,\r\n              <NavbarItem\r\n                key=\"create\"\r\n                display={<MdAddCircleOutline />}\r\n                description=\"Create schedule\"\r\n              >\r\n                <NavbarInput\r\n                  prompt=\"Create a new schedule:\"\r\n                  defaultValue=\"New Schedule\"\r\n                  onSubmit={onCreateSchedule}\r\n                  verb=\"Create\"\r\n                />\r\n              </NavbarItem>,\r\n              <NavbarItem\r\n                key=\"delete\"\r\n                display={<MdDelete />}\r\n                description=\"Delete schedule\"\r\n              >\r\n                <NavbarInput\r\n                  prompt={\r\n                    \"Are you sure you want to delete the schedule '\" +\r\n                    selectedSchedule.name +\r\n                    \"'?\"\r\n                  }\r\n                  onSubmit={onDeleteSchedule}\r\n                  verb=\"Delete\"\r\n                />\r\n              </NavbarItem>,\r\n              <NavbarItem\r\n                key=\"ical\"\r\n                display={<MdFileDownload />}\r\n                description=\"Export schedule to iCal\"\r\n              >\r\n                <NavbarInput\r\n                  prompt={'Add to Google Calendar or save to iCal:'}\r\n                  defaultValue={`${window.location\r\n                    .origin}/ical/${selectedSchedule._id}.ics`}\r\n                  onSubmit={handleDownloadIcal}\r\n                  verb=\"Save\"\r\n                  isReadOnly={true}\r\n                />\r\n              </NavbarItem>\r\n            ]}\r\n        <div className=\"Navbar-stretch\" />\r\n        <NavbarItem\r\n          display={<MdHelpOutline />}\r\n          description=\"Help\"\r\n          alignRight={true}\r\n          demo={true}\r\n        >\r\n          <Demo />\r\n        </NavbarItem>\r\n        <NavbarItem\r\n          display={<MdFeedback />}\r\n          description=\"Feedback\"\r\n          alignRight={true}\r\n        >\r\n          <NavbarInput\r\n            prompt={\r\n              <span>\r\n                All feedback welcome! Access the full form{' '}\r\n                <a\r\n                  className=\"Navbar-feedback\"\r\n                  href=\"https://goo.gl/forms/R5EIfruDGJlIrkG33\"\r\n                  rel=\"noopener noreferrer\"\r\n                  target=\"_blank\"\r\n                >\r\n                  here\r\n                </a>.\r\n              </span>\r\n            }\r\n            defaultValue=\"Enter any thoughts!\"\r\n            isFeedback={true}\r\n            onSubmit={handleSubmitFeedback}\r\n            verb=\"Submit\"\r\n          />\r\n        </NavbarItem>\r\n        {isEmpty\r\n          ? null\r\n          : <NavbarItem display={user._id} alignRight={true}>\r\n              <NavbarInput\r\n                prompt=\"Would you like to logout?\"\r\n                onSubmit={handleLogout}\r\n                verb=\"Logout\"\r\n              />\r\n            </NavbarItem>}\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navbar;\r\n","import React, { Component } from 'react';\r\nimport FaAngleUp from 'react-icons/lib/fa/angle-up';\r\nimport FaAngleDown from 'react-icons/lib/fa/angle-down';\r\nimport './SideMenu.css';\r\n\r\nconst MAX_ENTRIES = 50;\r\n\r\nclass SideMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      keys: props.keys.slice(),\r\n      position: props.tabLabels.slice().fill(0),\r\n      tab: 0,\r\n      sort: props.tabLabels.slice().fill(0),\r\n      sign: props.tabLabels.slice().fill(1)\r\n    };\r\n\r\n    this.handlePositionUp = this.handlePositionUp.bind(this);\r\n    this.handlePositionDown = this.handlePositionDown.bind(this);\r\n    this.handleTabClick = this.handleTabClick.bind(this);\r\n    this.handleSortClick = this.handleSortClick.bind(this);\r\n  }\r\n\r\n  handlePositionUp() {\r\n    const position = this.state.position.slice();\r\n    const tab = this.state.tab;\r\n\r\n    position[tab] -= MAX_ENTRIES;\r\n    this.setState({ position: position }, () => {\r\n      this.contentBottom.scrollIntoView();\r\n    });\r\n  }\r\n\r\n  handlePositionDown() {\r\n    const position = this.state.position.slice();\r\n    const tab = this.state.tab;\r\n\r\n    position[tab] += MAX_ENTRIES;\r\n    this.setState({ position: position }, () => {\r\n      this.contentTop.scrollIntoView();\r\n    });\r\n  }\r\n\r\n  handleTabClick(tab) {\r\n    this.setState({ tab: tab });\r\n  }\r\n\r\n  handleSortClick(sort) {\r\n    const sortState = this.state.sort.slice();\r\n    const signState = this.state.sign.slice();\r\n    const positionState = this.state.position.slice();\r\n\r\n    const stateUpdate = {};\r\n    positionState[this.state.tab] = 0;\r\n    stateUpdate.position = positionState;\r\n\r\n    if (sortState[this.state.tab] === sort) {\r\n      signState[this.state.tab] *= -1;\r\n      stateUpdate.sign = signState;\r\n    } else {\r\n      sortState[this.state.tab] = sort;\r\n      signState[this.state.tab] = 1;\r\n      stateUpdate.sort = sortState;\r\n      stateUpdate.sign = signState;\r\n    }\r\n\r\n    this.setState(stateUpdate, () => {\r\n      this.contentTop.scrollIntoView();\r\n    });\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    const position = this.state.position.slice();\r\n    let updated = false;\r\n\r\n    for (let i = 0; i < position.length; i++) {\r\n      if (nextProps.keys[i] !== this.state.keys[i]) {\r\n        position[i] = 0;\r\n        updated = true;\r\n      }\r\n    }\r\n\r\n    if (updated) this.setState({ position: position, keys: nextProps.keys });\r\n  }\r\n\r\n  render() {\r\n    const tab = this.state.tab;\r\n    const position = this.state.position[tab];\r\n    const sort = this.state.sort[tab];\r\n    const sign = this.state.sign[tab];\r\n\r\n    const tabLabels = this.props.tabLabels;\r\n    const tabDescriptions = this.props.tabDescriptions;\r\n    const sortLabels = this.props.sortLabels;\r\n    const sortDescriptions = this.props.sortDescriptions;\r\n    const renderInput = this.props.renderInput;\r\n    const renderContent = this.props.renderContent;\r\n    const captionNouns = this.props.captionNouns;\r\n    const edge = this.props.edge;\r\n\r\n    const handlePositionUp = this.handlePositionUp;\r\n    const handlePositionDown = this.handlePositionDown;\r\n    const handleTabClick = this.handleTabClick;\r\n    const handleSortClick = this.handleSortClick;\r\n\r\n    const tabs = [];\r\n    for (let i = 0; i < tabLabels.length; i++) {\r\n      tabs.push(\r\n        <button\r\n          key={i}\r\n          onClick={handleTabClick.bind(null, i)}\r\n          className={\r\n            'SideMenu-button' + (i === tab ? ' SideMenu-button-selected' : '')\r\n          }\r\n          title={tabDescriptions[i]}\r\n        >\r\n          {tabLabels[i]}\r\n        </button>\r\n      );\r\n    }\r\n\r\n    const sorts = [];\r\n    for (let i = 0; i < sortLabels[tab].length; i++) {\r\n      sorts.push(\r\n        <button\r\n          key={i}\r\n          onClick={handleSortClick.bind(null, i)}\r\n          className={\r\n            'SideMenu-button SideMenu-sort' +\r\n            (i === sort ? ' SideMenu-button-selected' : '')\r\n          }\r\n          title={sortDescriptions[tab][i]}\r\n        >\r\n          {sortLabels[tab][i][i === sort ? (1 - sign) / 2 : 0]}\r\n        </button>\r\n      );\r\n    }\r\n\r\n    const input = renderInput(tab);\r\n    const content = renderContent(tab, sort, sign);\r\n\r\n    const noun = captionNouns[tab];\r\n    const plural = content.length === 1 ? '' : 's';\r\n    const start = position + 1;\r\n    const end =\r\n      content.length > position + MAX_ENTRIES\r\n        ? position + MAX_ENTRIES\r\n        : content.length;\r\n    const caption =\r\n      content.length > MAX_ENTRIES\r\n        ? `${start}\\u2013${end} of ${content.length} ${noun}${plural}`\r\n        : `${content.length} ${noun}${plural}`;\r\n\r\n    const contentHeader = [];\r\n    if (position > 0) {\r\n      contentHeader.push(\r\n        <li\r\n          className=\"SideMenu-content-header\"\r\n          onClick={handlePositionUp}\r\n          key=\"up\"\r\n          title=\"Previous page\"\r\n        >\r\n          <FaAngleUp />\r\n        </li>\r\n      );\r\n    }\r\n\r\n    const contentFooter = [];\r\n    if (position + MAX_ENTRIES < content.length) {\r\n      contentFooter.push(\r\n        <li\r\n          className=\"SideMenu-content-footer\"\r\n          onClick={handlePositionDown}\r\n          key=\"down\"\r\n          title=\"Next page\"\r\n        >\r\n          <FaAngleDown />\r\n        </li>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className={'SideMenu' + (edge ? ' SideMenu-' + edge : '')}>\r\n        <div className=\"SideMenu-buttons\">\r\n          {tabs}\r\n          <div className=\"SideMenu-stretch\" />\r\n        </div>\r\n        {input}\r\n        <div className=\"SideMenu-buttons SideMenu-sorts\">\r\n          <div className=\"SideMenu-caption\" title={caption}>\r\n            {caption}\r\n          </div>\r\n          <div className=\"SideMenu-stretch\" />\r\n          {sorts}\r\n        </div>\r\n        <ul className=\"SideMenu-content\">\r\n          <li\r\n            ref={ref => {\r\n              this.contentTop = ref;\r\n            }}\r\n            key=\"top\"\r\n          />\r\n          {contentHeader}\r\n          {content.slice(position, position + MAX_ENTRIES)}\r\n          {contentFooter}\r\n          <li\r\n            ref={ref => {\r\n              this.contentBottom = ref;\r\n            }}\r\n            key=\"bottom\"\r\n          />\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SideMenu;\r\n","import React, { Component } from 'react';\r\nimport './CourseRating.css';\r\n\r\nconst COLORS = [\r\n  '#f44336', // red\r\n  '#f44336',\r\n  '#FF5722',\r\n  '#FF9800',\r\n  '#FFB300',\r\n  '#FDD835',\r\n  '#C0CA33',\r\n  '#8BC34A',\r\n  '#4CAF50' // green\r\n];\r\n\r\nclass CourseRating extends Component {\r\n  getColor(score) {\r\n    const stringToRgb = function(string) {\r\n      if (string[0] === '#') string = string.substring(1);\r\n      const rr = string.substr(0, 2);\r\n      const gg = string.substr(2, 2);\r\n      const bb = string.substr(4, 2);\r\n\r\n      const r = parseInt(rr, 16);\r\n      const g = parseInt(gg, 16);\r\n      const b = parseInt(bb, 16);\r\n\r\n      return [r, g, b];\r\n    };\r\n\r\n    const rgbToHsl = function(rgb) {\r\n      const r = rgb[0] / 255;\r\n      const g = rgb[1] / 255;\r\n      const b = rgb[2] / 255;\r\n\r\n      const max = Math.max(r, g, b);\r\n      const min = Math.min(r, g, b);\r\n\r\n      let h = 0;\r\n      let s = 0;\r\n      let l = (max + min) / 2;\r\n      if (max === min) {\r\n        return [h, s, l];\r\n      }\r\n\r\n      let d = max - min;\r\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n      switch (max) {\r\n        case r:\r\n          h = (g - b) / d + (g < b ? 6 : 0);\r\n          break;\r\n        case g:\r\n          h = (b - r) / d + 2;\r\n          break;\r\n        case b:\r\n          h = (r - g) / d + 4;\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      h /= 6;\r\n\r\n      return [h, s, l];\r\n    };\r\n\r\n    const hslLinearGradient = function(hsl1, hsl2, x1, x2, x) {\r\n      const hsl = [0, 0, 0];\r\n      for (let i = 0; i < 3; i++) {\r\n        hsl[i] = hsl1[i] + (x - x1) / (x2 - x1) * (hsl2[i] - hsl1[i]);\r\n      }\r\n      return hsl;\r\n    };\r\n\r\n    const hslToString = function(hsl) {\r\n      return (\r\n        'hsl(' +\r\n        hsl[0] * 360 +\r\n        ', ' +\r\n        hsl[1] * 100 +\r\n        '%, ' +\r\n        hsl[2] * 100 +\r\n        '%)'\r\n      );\r\n    };\r\n\r\n    const breakpoints = COLORS.length - 1;\r\n    const scaledScore = (score - 1) / 4 * breakpoints;\r\n    const scoreUpper = Math.ceil(scaledScore) || 1;\r\n    const scoreLower = scoreUpper - 1;\r\n    const colorUpper = COLORS[scoreUpper];\r\n    const colorLower = COLORS[scoreLower];\r\n    const rgbUpper = stringToRgb(colorUpper);\r\n    const rgbLower = stringToRgb(colorLower);\r\n    const hslUpper = rgbToHsl(rgbUpper);\r\n    const hslLower = rgbToHsl(rgbLower);\r\n    const hsl = hslLinearGradient(\r\n      hslLower,\r\n      hslUpper,\r\n      scoreLower,\r\n      scoreUpper,\r\n      scaledScore\r\n    );\r\n    return hslToString(hsl);\r\n  }\r\n\r\n  render() {\r\n    const score = this.props.score;\r\n    const _new = this.props.new;\r\n    const description = this.props.description;\r\n\r\n    const getColor = this.getColor;\r\n\r\n    return (\r\n      <span\r\n        className={\r\n          'CourseRating' +\r\n          (score ? '' : _new ? ' CourseRating-new' : ' CourseRating-none')\r\n        }\r\n        style={score ? { backgroundColor: getColor(score) } : null}\r\n        title={description}\r\n      >\r\n        {score ? score.toFixed(2) : _new ? 'New' : 'N/A'}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CourseRating;\r\n","import React, { Component } from 'react';\r\nimport FaClockO from 'react-icons/lib/fa/clock-o';\r\nimport './TimeAgo.css';\r\n\r\nclass TimeAgo extends Component {\r\n  render() {\r\n    const now = this.props.now;\r\n    const then = this.props.then;\r\n\r\n    const diff = now - then;\r\n\r\n    let number;\r\n    let unit;\r\n\r\n    if (diff < 1000 * 60 * 60) {\r\n      number = Math.round(diff / 1000 / 60);\r\n      unit = 'minute';\r\n    } else if (diff < 1000 * 60 * 60 * 24) {\r\n      number = Math.round(diff / 1000 / 60 / 60);\r\n      unit = 'hour';\r\n    } else if (diff < 1000 * 60 * 60 * 24 * 7) {\r\n      number = Math.round(diff / 1000 / 60 / 60 / 24);\r\n      unit = 'day';\r\n    } else {\r\n      number = Math.round(diff / 1000 / 60 / 60 / 24 / 7);\r\n      unit = 'week';\r\n    }\r\n\r\n    const text = number + unit.substr(0, 1);\r\n    const description =\r\n      'Last updated about ' +\r\n      number +\r\n      ' ' +\r\n      unit +\r\n      (number === 1 ? '' : 's') +\r\n      ' ago';\r\n\r\n    return (\r\n      <span className=\"TimeAgo\" title={description}>\r\n        <FaClockO />\r\n        {text}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TimeAgo;\r\n","import React, { Component } from 'react';\r\nimport FaStar from 'react-icons/lib/fa/star';\r\nimport FaLock from 'react-icons/lib/fa/lock';\r\nimport CourseRating from '../CourseRating/CourseRating';\r\nimport TimeAgo from '../TimeAgo/TimeAgo';\r\nimport './CourseSummary.css';\r\n\r\nclass CourseSummary extends Component {\r\n  render() {\r\n    const user = this.props.user;\r\n    const now = this.props.now;\r\n    const departmentLookup = this.props.departmentLookup;\r\n    const semesterLookup = this.props.semesterLookup;\r\n    const distributionLookup = this.props.distributionLookup;\r\n    const pdfLookup = this.props.pdfLookup;\r\n    const auditLookup = this.props.auditLookup;\r\n    const course = this.props.course;\r\n    const showInstructors = this.props.showInstructors;\r\n    const showStrictRatings = this.props.showStrictRatings;\r\n    const showSemester = this.props.showSemester;\r\n\r\n    let saved = false;\r\n    for (let i = 0; i < user.savedCourses.length; i++) {\r\n      saved |= user.savedCourses[i]._id === course._id;\r\n    }\r\n\r\n    const title =\r\n      course.department +\r\n      course.catalogNumber +\r\n      course.crossListings\r\n        .map(\r\n          crossListing =>\r\n            ' / ' + crossListing.department + crossListing.catalogNumber\r\n        )\r\n        .join('') +\r\n      ` (${semesterLookup[course.semester].name})\\n` +\r\n      course.title +\r\n      '\\n' +\r\n      (!showSemester\r\n        ? course.instructors\r\n            .map(instructor => instructor.fullName)\r\n            .join(', ') || '\\u2013'\r\n        : '');\r\n\r\n    return (\r\n      <div className=\"CourseSummary\" title={title}>\r\n        <div className=\"CourseSummary-top\">\r\n          <span\r\n            className=\"CourseSummary-listing\"\r\n            title={showInstructors ? null : departmentLookup[course.department]}\r\n          >\r\n            {showInstructors\r\n              ? semesterLookup[course.semester].name\r\n              : course.department + course.catalogNumber}\r\n          </span>\r\n          {!showInstructors &&\r\n          course.crossListings &&\r\n          course.crossListings.length\r\n            ? <span className=\"CourseSummary-crosslistings\">\r\n                {course.crossListings.map(crossListing =>\r\n                  <span\r\n                    key={crossListing.department}\r\n                    className=\"CourseSummary-crosslisting\"\r\n                    title={departmentLookup[crossListing.department]}\r\n                  >\r\n                    {'/ ' +\r\n                      crossListing.department +\r\n                      crossListing.catalogNumber}\r\n                  </span>\r\n                )}\r\n              </span>\r\n            : null}\r\n          <span className=\"CourseSummary-tags\">\r\n            {course.distribution\r\n              ? <span\r\n                  className=\"CourseSummary-distribution\"\r\n                  title={distributionLookup[course.distribution]}\r\n                >\r\n                  {course.distribution}\r\n                </span>\r\n              : null}\r\n            {course.pdf\r\n              ? <span\r\n                  className={'CourseSummary-' + course.pdf.toLowerCase()}\r\n                  title={pdfLookup[course.pdf]}\r\n                >\r\n                  {course.pdf}\r\n                </span>\r\n              : null}\r\n            {course.audit\r\n              ? <span\r\n                  className={'CourseSummary-' + course.audit.toLowerCase()}\r\n                  title={auditLookup[course.audit.slice(0, -4)]}\r\n                >\r\n                  {course.audit.slice(0, -4)}\r\n                </span>\r\n              : null}\r\n          </span>\r\n          <span className=\"CourseSummary-stretch\" />\r\n          {saved\r\n            ? <span className=\"CourseSummary-saved\" title=\"Saved course\">\r\n                <FaStar />\r\n              </span>\r\n            : null}\r\n          <CourseRating\r\n            score={\r\n              course.rating &&\r\n              (!showStrictRatings || course.rating.semester === course.semester)\r\n                ? course.rating.score\r\n                : null\r\n            }\r\n            new={course.new}\r\n            description={\r\n              course.rating &&\r\n              (!showStrictRatings || course.rating.semester === course.semester)\r\n                ? course.rating.description\r\n                : null\r\n            }\r\n          />\r\n        </div>\r\n        <div className=\"CourseSummary-middle\">\r\n          <span className=\"CourseSummary-title\">\r\n            {showInstructors\r\n              ? course.instructors\r\n                  .map(instructor => instructor.fullName)\r\n                  .join(', ') || '\\u2013'\r\n              : course.title}\r\n          </span>\r\n          <span className=\"CourseSummary-stretch\" />\r\n        </div>\r\n        <div className=\"CourseSummary-bottom\">\r\n          {showSemester\r\n            ? <span className=\"CourseSummary-semester\">\r\n                {semesterLookup[course.semester].name}\r\n              </span>\r\n            : !showInstructors\r\n              ? <span className=\"CourseSummary-instructors\">\r\n                  {course.instructors\r\n                    .map(instructor => instructor.fullName)\r\n                    .join(', ') || '\\u2013'}\r\n                </span>\r\n              : null}\r\n          <span className=\"CourseSummary-stretch\" />\r\n          <TimeAgo now={now} then={new Date(course.lastModified)} />\r\n          <span\r\n            className={\r\n              'CourseSummary-status CourseSummary-status-' +\r\n              course.status.toLowerCase()\r\n            }\r\n            title={course.status}\r\n          >\r\n            {course.status === 'Open' ? null : <FaLock />}\r\n          </span>\r\n          <span className=\"CourseSummary-seats\">\r\n            {(course.seatsTaken >= 0 ? course.seatsTaken : '\\u2013') +\r\n              ' / ' +\r\n              (course.seatsTotal >= 0 ? course.seatsTotal : '\\u2013')}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CourseSummary;\r\n","import React, { Component } from 'react';\r\nimport './ColorPicker.css';\r\n\r\nclass ColorPicker extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      expanded: false\r\n    };\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n    this.renderColorPick = this.renderColorPick.bind(this);\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({ expanded: !this.state.expanded });\r\n  }\r\n\r\n  handleClickOutside(event) {\r\n    if (!this.ref.contains(event.target)) this.setState({ expanded: false });\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  renderColorPick(c) {\r\n    const onChangeCourseColorInSchedule = this.props\r\n      .onChangeCourseColorInSchedule;\r\n    const course = this.props.course;\r\n\r\n    const handleClick = e => {\r\n      onChangeCourseColorInSchedule(course._id, c._id);\r\n      this.setState({ expanded: false });\r\n      e.stopPropagation();\r\n    };\r\n\r\n    return (\r\n      <div\r\n        className=\"ColorPicker-pick\"\r\n        style={{ backgroundColor: `#${c._id}` }}\r\n        onClick={handleClick}\r\n        title={c.name[0].toUpperCase() + c.name.substr(1).toLowerCase()}\r\n        key={c.name}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const colors = this.props.colors;\r\n    const colorLookup = this.props.colorLookup;\r\n    // const onChangeCourseColorInSchedule = this.props.onChangeCourseColorInSchedule;\r\n\r\n    const course = this.props.course;\r\n    const color = this.props.color;\r\n\r\n    const expanded = this.state.expanded;\r\n\r\n    const toggle = this.toggle;\r\n    const renderColorPick = this.renderColorPick;\r\n\r\n    if (!colorLookup[course._id]) {\r\n      return (\r\n        <div\r\n          className=\"ColorPicker\"\r\n          ref={ref => {\r\n            this.ref = ref;\r\n          }}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className={'ColorPicker' + (expanded ? ' ColorPicker-expanded' : '')}\r\n        style={{ backgroundColor: color }}\r\n        ref={ref => {\r\n          this.ref = ref;\r\n        }}\r\n        onClick={e => {\r\n          toggle();\r\n          e.stopPropagation();\r\n        }}\r\n        title=\"Change color\"\r\n      >\r\n        {expanded\r\n          ? <div\r\n              className=\"ColorPicker-picker\"\r\n              onClick={e => {\r\n                e.stopPropagation();\r\n              }}\r\n            >\r\n              {colors.map(c => renderColorPick(c))}\r\n            </div>\r\n          : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ColorPicker;\r\n","import React, { Component } from 'react';\r\nimport FaStar from 'react-icons/lib/fa/star';\r\nimport FaInfoCircle from 'react-icons/lib/fa/info-circle';\r\nimport FaClose from 'react-icons/lib/fa/close';\r\nimport FaPlus from 'react-icons/lib/fa/plus';\r\nimport FaMinus from 'react-icons/lib/fa/minus';\r\nimport CourseSummary from '../CourseSummary/CourseSummary';\r\nimport ColorPicker from '../ColorPicker/ColorPicker';\r\nimport './CourseResult.css';\r\n\r\nclass CourseResult extends Component {\r\n  render() {\r\n    const selectedSemester = this.props.selectedSemester; // if showButtons is enabled\r\n    const user = this.props.user;\r\n    const selectedSchedule = this.props.selectedSchedule; // if showButtons is enabled\r\n    const selectedCourse = this.props.selectedCourse;\r\n    const colors = this.props.colors;\r\n    const now = this.props.now;\r\n    const departmentLookup = this.props.departmentLookup;\r\n    const semesterLookup = this.props.semesterLookup;\r\n    const colorLookup = this.props.colorLookup; // if showButtons is enabled\r\n    const distributionLookup = this.props.distributionLookup;\r\n    const pdfLookup = this.props.pdfLookup;\r\n    const auditLookup = this.props.auditLookup;\r\n    const onSelectCourse = this.props.onSelectCourse;\r\n\r\n    // handlers below are only required if showButtons is enabled\r\n    const onUnselectCourse = this.props.onUnselectCourse;\r\n    const onSaveCourse = this.props.onSaveCourse;\r\n    const onUnsaveCourse = this.props.onUnsaveCourse;\r\n    const onAddCourseToSchedule = this.props.onAddCourseToSchedule;\r\n    const onRemoveCourseFromSchedule = this.props.onRemoveCourseFromSchedule;\r\n    const onMouseOverCourse = this.props.onMouseOverCourse;\r\n    const onMouseOutCourse = this.props.onMouseOutCourse;\r\n    const onChangeCourseColorInSchedule = this.props\r\n      .onChangeCourseColorInSchedule;\r\n\r\n    const course = this.props.course;\r\n    const showButtons = this.props.showButtons;\r\n    const showInstructors = this.props.showInstructors;\r\n    const showStrictRatings = this.props.showStrictRatings;\r\n    const showSemester = this.props.showSemester;\r\n\r\n    let inSchedule = false;\r\n    if (showButtons) {\r\n      for (let i = 0; i < selectedSchedule.courses.length; i++) {\r\n        inSchedule |= selectedSchedule.courses[i]._id === course._id;\r\n      }\r\n    }\r\n\r\n    let saved = false;\r\n    for (let i = 0; i < user.savedCourses.length; i++) {\r\n      saved |= user.savedCourses[i]._id === course._id;\r\n    }\r\n\r\n    const selected = selectedCourse && course._id === selectedCourse._id;\r\n\r\n    const color = colorLookup && colorLookup[course._id];\r\n\r\n    const validButton = showButtons && course.semester === selectedSemester;\r\n\r\n    return (\r\n      <li\r\n        className={'CourseResult' + (selected ? ' CourseResult-selected' : '')}\r\n        onClick={(showButtons && selected\r\n          ? onUnselectCourse\r\n          : onSelectCourse).bind(null, course._id)}\r\n        onMouseOver={validButton ? onMouseOverCourse.bind(null, course) : null}\r\n        onMouseOut={validButton ? onMouseOutCourse.bind(null, course) : null}\r\n      >\r\n        {showButtons\r\n          ? <ColorPicker\r\n              colors={colors}\r\n              colorLookup={colorLookup}\r\n              onChangeCourseColorInSchedule={onChangeCourseColorInSchedule}\r\n              course={course}\r\n              color={color}\r\n            />\r\n          : null}\r\n        <div className=\"CourseResult-main\">\r\n          <CourseSummary\r\n            user={user}\r\n            now={now}\r\n            departmentLookup={departmentLookup}\r\n            semesterLookup={semesterLookup}\r\n            distributionLookup={distributionLookup}\r\n            pdfLookup={pdfLookup}\r\n            auditLookup={auditLookup}\r\n            course={course}\r\n            showInstructors={showInstructors}\r\n            showStrictRatings={showStrictRatings}\r\n            showSemester={showSemester}\r\n          />\r\n        </div>\r\n        {showButtons\r\n          ? <button\r\n              title={\r\n                selected ? 'Hide course information' : 'Show course information'\r\n              }\r\n              className={\r\n                'CourseResult-button CourseResult-' +\r\n                (selected ? 'unselect' : 'select')\r\n              }\r\n              onClick={e => {\r\n                (selected ? onUnselectCourse : onSelectCourse)(course._id);\r\n                e.stopPropagation();\r\n              }}\r\n            >\r\n              {selected ? <FaClose /> : <FaInfoCircle />}\r\n            </button>\r\n          : null}\r\n        {validButton\r\n          ? <button\r\n              title={\r\n                inSchedule\r\n                  ? 'Remove course from schedule'\r\n                  : 'Add course to schedule'\r\n              }\r\n              className={\r\n                'CourseResult-button CourseResult-' +\r\n                (inSchedule ? 'remove' : 'add')\r\n              }\r\n              onClick={e => {\r\n                (inSchedule\r\n                  ? onRemoveCourseFromSchedule\r\n                  : onAddCourseToSchedule)(course._id);\r\n                e.stopPropagation();\r\n              }}\r\n            >\r\n              {inSchedule ? <FaMinus /> : <FaPlus />}\r\n            </button>\r\n          : null}\r\n        {showButtons\r\n          ? <button\r\n              title={saved ? 'Unsave course' : 'Save course'}\r\n              className={\r\n                'CourseResult-button CourseResult-' +\r\n                (saved ? 'unsave' : 'save')\r\n              }\r\n              onClick={e => {\r\n                (saved ? onUnsaveCourse : onSaveCourse)(course._id);\r\n                e.stopPropagation();\r\n              }}\r\n            >\r\n              <FaStar />\r\n            </button>\r\n          : null}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CourseResult;\r\n","// A virtual component to handle ajax requests\r\nconst Virtual = {};\r\n\r\n// https://stackoverflow.com/questions/44326797/express-session-not-working-for-ajax-call\r\n// (same problem for ../registerServiceWorker.js)\r\nconst fetchJson = function(string, init) {\r\n  if (!init) init = {};\r\n  init.credentials = 'same-origin';\r\n  return fetch(string, init)\r\n    .then(response => {\r\n      if (response.status >= 200 && response.status < 300) {\r\n        return response;\r\n      }\r\n\r\n      const error = new Error(`HTTP Error ${response.statusText}`);\r\n      error.status = response.statusText;\r\n      error.response = response;\r\n      console.error(error); // eslint-disable-line no-console\r\n      throw error;\r\n    })\r\n    .then(res => res.json());\r\n};\r\n\r\nconst fetchJsonAndSetState = function(string, init) {\r\n  return fetchJson(string, init).then(object => this.setState(object));\r\n};\r\n\r\nVirtual.fetchJson = fetchJson;\r\nVirtual.fetchJsonAndSetState = fetchJsonAndSetState;\r\n\r\nexport default Virtual;\r\n","import React, { Component } from 'react';\r\nimport ReactGA from 'react-ga';\r\nimport FaCircleONotch from 'react-icons/lib/fa/circle-o-notch';\r\nimport CourseResult from '../CourseResult/CourseResult';\r\nimport CourseRating from '../CourseRating/CourseRating';\r\nimport Virtual from '../Virtual/Virtual';\r\nimport './InstructorResult.css';\r\n\r\nconst TIMEOUT_DELAY = 0.05;\r\n\r\nclass InstructorResult extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      expanded: false,\r\n      instructor: this.props.instructor,\r\n      loaded: undefined\r\n    };\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.fetchJson = Virtual.fetchJson;\r\n    this.handleLoadInstructor = this.handleLoadInstructor.bind(this);\r\n  }\r\n\r\n  toggle() {\r\n    if (this.state.loaded === true) {\r\n      this.setState({ expanded: !this.state.expanded });\r\n    } else {\r\n      this.handleLoadInstructor(this.state.instructor._id);\r\n    }\r\n  }\r\n\r\n  handleLoadInstructor(instructorId) {\r\n    if (this.state.loaded === false) return;\r\n\r\n    ReactGA.pageview(`/instructor/${this.state.instructor._id}`);\r\n    ReactGA.event({\r\n      category: 'Instructor',\r\n      action: 'Opened Instructor',\r\n      label: instructorId\r\n    });\r\n\r\n    this.setState({ loaded: false });\r\n    this.fetchJson(`/api/instructor/${instructorId}`).then(object => {\r\n      object.loaded = true;\r\n      this.setState(object);\r\n\r\n      setTimeout(() => {\r\n        this.setState({ expanded: true });\r\n      }, TIMEOUT_DELAY);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const selectedSemester = this.props.selectedSemester; // if showButtons is enabled\r\n    const user = this.props.user;\r\n    const selectedSchedule = this.props.selectedSchedule; // if showButtons is enabled\r\n    const selectedCourse = this.props.selectedCourse;\r\n    const colors = this.props.colors;\r\n    const now = this.props.now;\r\n    const departmentLookup = this.props.departmentLookup;\r\n    const semesterLookup = this.props.semesterLookup;\r\n    const distributionLookup = this.props.distributionLookup;\r\n    const pdfLookup = this.props.pdfLookup;\r\n    const auditLookup = this.props.auditLookup;\r\n    const colorLookup = this.props.colorLookup; // if showButtons is enabled\r\n    const onSelectCourse = this.props.onSelectCourse;\r\n\r\n    // handlers below are only required if showButtons is enabled\r\n    const onUnselectCourse = this.props.onUnselectCourse;\r\n    const onSaveCourse = this.props.onSaveCourse;\r\n    const onUnsaveCourse = this.props.onUnsaveCourse;\r\n    const onAddCourseToSchedule = this.props.onAddCourseToSchedule;\r\n    const onRemoveCourseFromSchedule = this.props.onRemoveCourseFromSchedule;\r\n    const onMouseOverCourse = this.props.onMouseOverCourse;\r\n    const onMouseOutCourse = this.props.onMouseOutCourse;\r\n    const onChangeCourseColorInSchedule = this.props\r\n      .onChangeCourseColorInSchedule;\r\n\r\n    const showButtons = this.props.showButtons;\r\n\r\n    const expanded = this.state.expanded;\r\n    const instructor = this.state.instructor;\r\n    const loaded = this.state.loaded;\r\n\r\n    const toggle = this.toggle;\r\n\r\n    return (\r\n      <li\r\n        className={\r\n          'InstructorResult' + (expanded ? ' InstructorResult-expanded' : '')\r\n        }\r\n      >\r\n        <div className=\"InstructorResult-header\" onClick={toggle}>\r\n          <div className=\"InstructorResult-top\">\r\n            <span className=\"InstructorResult-name\">\r\n              {instructor.fullName}\r\n            </span>\r\n            {loaded === false\r\n              ? <FaCircleONotch className=\"InstructorResult-spinner\" />\r\n              : null}\r\n            <CourseRating\r\n              score={instructor.history.rating}\r\n              new={false}\r\n              description={\r\n                instructor.history.ratedCourses\r\n                  ? 'Average rating over ' +\r\n                    instructor.history.ratedCourses +\r\n                    ' courses'\r\n                  : null\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"InstructorResult-middle\">\r\n            <span className=\"InstructorResult-position\">\r\n              {instructor.position}\r\n            </span>\r\n            <span\r\n              className=\"InstructorResult-count\"\r\n              title={\r\n                instructor.history.courses + ' courses under this instructor'\r\n              }\r\n            >\r\n              {instructor.history.courses}\r\n            </span>\r\n          </div>\r\n          <ul\r\n            className=\"InstructorResult-bottom\"\r\n            onClick={e => {\r\n              e.stopPropagation();\r\n            }}\r\n          >\r\n            {instructor.phone &&\r\n              <li className=\"InstructorResult-detail\">\r\n                {instructor.phone}\r\n              </li>}\r\n            {instructor.email &&\r\n              <li className=\"InstructorResult-detail\">\r\n                {instructor.email}\r\n              </li>}\r\n            {instructor.office &&\r\n              <li className=\"InstructorResult-detail\">\r\n                {instructor.office}\r\n              </li>}\r\n          </ul>\r\n        </div>\r\n        {loaded\r\n          ? <ul className=\"InstructorResult-courses\">\r\n              {instructor.courses.map(course =>\r\n                <div key={course._id} className=\"InstructorResult-course\">\r\n                  <CourseResult\r\n                    selectedSemester={selectedSemester}\r\n                    user={user}\r\n                    selectedSchedule={selectedSchedule}\r\n                    selectedCourse={selectedCourse}\r\n                    colors={colors}\r\n                    now={now}\r\n                    departmentLookup={departmentLookup}\r\n                    semesterLookup={semesterLookup}\r\n                    colorLookup={colorLookup}\r\n                    distributionLookup={distributionLookup}\r\n                    pdfLookup={pdfLookup}\r\n                    auditLookup={auditLookup}\r\n                    onSelectCourse={onSelectCourse}\r\n                    onUnselectCourse={onUnselectCourse}\r\n                    onSaveCourse={onSaveCourse}\r\n                    onUnsaveCourse={onUnsaveCourse}\r\n                    onAddCourseToSchedule={onAddCourseToSchedule}\r\n                    onRemoveCourseFromSchedule={onRemoveCourseFromSchedule}\r\n                    onMouseOverCourse={onMouseOverCourse}\r\n                    onMouseOutCourse={onMouseOutCourse}\r\n                    onChangeCourseColorInSchedule={\r\n                      onChangeCourseColorInSchedule\r\n                    }\r\n                    key={course._id}\r\n                    course={course}\r\n                    showButtons={showButtons}\r\n                    showInstructors={false}\r\n                    showStrictRatings={true}\r\n                    showSemester={true}\r\n                  />\r\n                </div>\r\n              )}\r\n            </ul>\r\n          : null}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InstructorResult;\r\n","import React, { Component } from 'react';\r\nimport FaFilter from 'react-icons/lib/fa/filter';\r\nimport './FilterSelector.css';\r\n\r\nclass FilterSelector extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      expanded: false,\r\n      hovered: null,\r\n      tab: 0\r\n    };\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.handleChangeTab = this.handleChangeTab.bind(this);\r\n    this.handleHover = this.handleHover.bind(this);\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({\r\n      expanded: !this.state.expanded\r\n    });\r\n  }\r\n\r\n  handleChangeTab(tab) {\r\n    this.setState({\r\n      tab: tab\r\n    });\r\n  }\r\n\r\n  handleHover(term) {\r\n    this.setState({\r\n      hovered: term\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const expanded = this.state.expanded;\r\n    const hovered = this.state.hovered;\r\n    const tab = this.state.tab;\r\n\r\n    const selectedSemester = this.props.selectedSemester;\r\n    const departmentLookup = this.props.departmentLookup;\r\n    const distributionLookup = this.props.distributionLookup;\r\n    const pdfLookup = this.props.pdfLookup;\r\n    const auditLookup = this.props.auditLookup;\r\n    const onChangeCourseSearch = this.props.onChangeCourseSearch;\r\n\r\n    const toggle = this.toggle;\r\n    const handleChangeTab = this.handleChangeTab;\r\n    const handleHover = this.handleHover;\r\n\r\n    const filters = [\r\n      {\r\n        title: 'Departments',\r\n        values: Object.keys(departmentLookup).sort()\r\n      },\r\n      {\r\n        title: 'Distributions',\r\n        values: Object.keys(distributionLookup).sort()\r\n      },\r\n      {\r\n        title: 'P/D/F options',\r\n        values: Object.keys(pdfLookup).sort()\r\n      },\r\n      {\r\n        title: 'Audit options',\r\n        values: Object.keys(auditLookup).sort()\r\n      }\r\n    ];\r\n\r\n    const lookups = [\r\n      departmentLookup,\r\n      distributionLookup,\r\n      pdfLookup,\r\n      auditLookup\r\n    ];\r\n\r\n    const menuItems = [];\r\n    for (let i = 0; i < filters.length; i++) {\r\n      const f = filters[i];\r\n      menuItems.push(\r\n        <li\r\n          className={\r\n            'FilterSelector-menu-item' +\r\n            (i === tab ? ' FilterSelector-menu-selected' : '')\r\n          }\r\n          onClick={() => handleChangeTab(i)}\r\n          key={f.title}\r\n        >\r\n          {f.title}\r\n        </li>\r\n      );\r\n    }\r\n\r\n    const filterItems = [];\r\n    const values = filters[tab].values;\r\n    for (let i = 0; i < values.length; i++) {\r\n      const v = values[i];\r\n      filterItems.push(\r\n        <li\r\n          className=\"FilterSelector-filter\"\r\n          onClick={() => onChangeCourseSearch(v, selectedSemester._id)}\r\n          onMouseOver={() => handleHover(v)}\r\n          onMouseOut={() => handleHover(null)}\r\n          title={lookups[tab][v]}\r\n          key={v}\r\n        >\r\n          {v}\r\n        </li>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"FilterSelector\">\r\n        <button\r\n          className={\r\n            'FilterSelector-toggle' +\r\n            (expanded ? ' FilterSelector-expanded' : '')\r\n          }\r\n          onClick={toggle}\r\n          title=\"Toggle filters\"\r\n        >\r\n          <FaFilter />\r\n        </button>\r\n        {expanded\r\n          ? <div className=\"FilterSelector-popup\">\r\n              <div className=\"FilterSelector-main\">\r\n                <ul className=\"FilterSelector-menu\">\r\n                  {menuItems}\r\n                </ul>\r\n                <ul className=\"FilterSelector-filters\">\r\n                  {filterItems}\r\n                </ul>\r\n              </div>\r\n              <div className=\"FilterSelector-description\">\r\n                {hovered\r\n                  ? `${hovered}: ${lookups[tab][hovered]}`\r\n                  : 'Hint: you may combine filters!'}\r\n              </div>\r\n            </div>\r\n          : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FilterSelector;\r\n","import React, { Component } from 'react';\r\nimport FaSearch from 'react-icons/lib/fa/search';\r\nimport FaUser from 'react-icons/lib/fa/user';\r\nimport FaStar from 'react-icons/lib/fa/star';\r\nimport FaCalendar from 'react-icons/lib/fa/calendar';\r\nimport FaSortAlphaAsc from 'react-icons/lib/fa/sort-alpha-asc';\r\nimport FaSortAlphaDesc from 'react-icons/lib/fa/sort-alpha-desc';\r\nimport FaSortAmountAsc from 'react-icons/lib/fa/sort-amount-asc';\r\nimport FaSortAmountDesc from 'react-icons/lib/fa/sort-amount-desc';\r\nimport FaSortNumericAsc from 'react-icons/lib/fa/sort-numeric-asc';\r\nimport FaSortNumericDesc from 'react-icons/lib/fa/sort-numeric-desc';\r\nimport FaEllipsisH from 'react-icons/lib/fa/ellipsis-h';\r\nimport FaCircleONotch from 'react-icons/lib/fa/circle-o-notch';\r\nimport SideMenu from '../SideMenu/SideMenu';\r\nimport CourseResult from '../CourseResult/CourseResult';\r\nimport InstructorResult from '../InstructorResult/InstructorResult';\r\nimport FilterSelector from '../FilterSelector/FilterSelector';\r\nimport './MenuPane.css';\r\n\r\nclass MenuPane extends Component {\r\n  render() {\r\n    const selectedSemester = this.props.selectedSemester;\r\n    const user = this.props.user;\r\n    const selectedSchedule = this.props.selectedSchedule;\r\n    const courseSearch = this.props.courseSearch;\r\n    const waitingCourseSearch = this.props.waitingCourseSearch;\r\n    const loadingCourseSearch = this.props.loadingCourseSearch;\r\n    const searchedCourses = this.props.searchedCourses;\r\n    const selectedCourse = this.props.selectedCourse;\r\n    const instructorSearch = this.props.instructorSearch;\r\n    const waitingInstructorSearch = this.props.waitingInstructorSearch;\r\n    const loadingInstructorSearch = this.props.loadingInstructorSearch;\r\n    const searchedInstructors = this.props.searchedInstructors;\r\n    const colors = this.props.colors;\r\n    const now = this.props.now;\r\n    const departmentLookup = this.props.departmentLookup;\r\n    const colorLookup = this.props.colorLookup;\r\n    const semesterLookup = this.props.semesterLookup;\r\n    const distributionLookup = this.props.distributionLookup;\r\n    const pdfLookup = this.props.pdfLookup;\r\n    const auditLookup = this.props.auditLookup;\r\n    const onChangeCourseSearch = this.props.onChangeCourseSearch;\r\n    const onSearchCourse = this.props.onSearchCourse;\r\n    const onSelectCourse = this.props.onSelectCourse;\r\n    const onUnselectCourse = this.props.onUnselectCourse;\r\n    const onSaveCourse = this.props.onSaveCourse;\r\n    const onUnsaveCourse = this.props.onUnsaveCourse;\r\n    const onAddCourseToSchedule = this.props.onAddCourseToSchedule;\r\n    const onRemoveCourseFromSchedule = this.props.onRemoveCourseFromSchedule;\r\n    const onChangeInstructorSearch = this.props.onChangeInstructorSearch;\r\n    const onSearchInstructor = this.props.onSearchInstructor;\r\n    const onMouseOverCourse = this.props.onMouseOverCourse;\r\n    const onMouseOutCourse = this.props.onMouseOutCourse;\r\n    const onChangeCourseColorInSchedule = this.props\r\n      .onChangeCourseColorInSchedule;\r\n\r\n    const tabLabels = [<FaSearch />, <FaUser />, <FaStar />, <FaCalendar />];\r\n    const tabDescriptions = [\r\n      'Course search',\r\n      'Instructor search',\r\n      'Saved courses',\r\n      'Courses in schedule'\r\n    ];\r\n    const sortLabels = [\r\n      [\r\n        [<FaSortAmountAsc />, <FaSortAmountDesc />],\r\n        [<FaSortAlphaAsc />, <FaSortAlphaDesc />],\r\n        [<FaSortNumericDesc />, <FaSortNumericAsc />]\r\n      ],\r\n      [\r\n        [<FaSortAlphaAsc />, <FaSortAlphaDesc />],\r\n        [<FaSortNumericDesc />, <FaSortNumericAsc />]\r\n      ],\r\n      [\r\n        [<FaSortAmountAsc />, <FaSortAmountDesc />],\r\n        [<FaSortAlphaAsc />, <FaSortAlphaDesc />],\r\n        [<FaSortNumericDesc />, <FaSortNumericAsc />]\r\n      ],\r\n      [\r\n        [<FaSortAmountAsc />, <FaSortAmountDesc />],\r\n        [<FaSortAlphaAsc />, <FaSortAlphaDesc />],\r\n        [<FaSortNumericDesc />, <FaSortNumericAsc />]\r\n      ]\r\n    ];\r\n    const sortDescriptions = [\r\n      ['Sort by department code', 'Sort by title', 'Sort by rating'],\r\n      ['Sort by name', 'Sort by rating'],\r\n      ['Sort by department code', 'Sort by title', 'Sort by rating'],\r\n      ['Sort by department code', 'Sort by title', 'Sort by rating']\r\n    ];\r\n    const captionNouns = [\r\n      'Course',\r\n      'Instructor',\r\n      'Saved Course',\r\n      'Selected Course'\r\n    ];\r\n\r\n    const handleKeyDown = tab => {\r\n      return event => {\r\n        if (event.key === 'Enter') {\r\n          if (tab === 0) onSearchCourse(courseSearch, selectedSemester);\r\n          if (tab === 1) onSearchInstructor(instructorSearch);\r\n        }\r\n      };\r\n    };\r\n\r\n    const renderInput = tab => {\r\n      if (tab > 1) return;\r\n\r\n      const input = (\r\n        <input\r\n          key={tab}\r\n          className=\"SideMenu-input\"\r\n          type=\"text\"\r\n          value={tab ? instructorSearch : courseSearch}\r\n          onChange={e =>\r\n            (tab ? onChangeInstructorSearch : onChangeCourseSearch)(\r\n              e.target.value\r\n            )}\r\n          onKeyDown={handleKeyDown(tab)}\r\n          placeholder=\"search\"\r\n          autoFocus={true}\r\n          onFocus={event => {\r\n            event.target.select();\r\n          }}\r\n        />\r\n      );\r\n\r\n      let icon = null;\r\n      if (\r\n        (tab === 0 && waitingCourseSearch) ||\r\n        (tab === 1 && waitingInstructorSearch)\r\n      ) {\r\n        icon = <FaEllipsisH className=\"SideMenu-waiting\" />;\r\n      } else if (\r\n        (tab === 0 && loadingCourseSearch) ||\r\n        (tab === 1 && loadingInstructorSearch)\r\n      ) {\r\n        icon = <FaCircleONotch className=\"SideMenu-loading\" />;\r\n      }\r\n\r\n      const filter =\r\n        tab === 0\r\n          ? <FilterSelector\r\n              selectedSemester={selectedSemester}\r\n              departmentLookup={departmentLookup}\r\n              distributionLookup={distributionLookup}\r\n              pdfLookup={pdfLookup}\r\n              auditLookup={auditLookup}\r\n              onChangeCourseSearch={onChangeCourseSearch}\r\n            />\r\n          : null;\r\n\r\n      return (\r\n        <div className=\"SideMenu-header\">\r\n          {input}\r\n          {icon}\r\n          {filter}\r\n        </div>\r\n      );\r\n    };\r\n\r\n    // s is sign in sorting functions\r\n\r\n    const courseSortDepartmentCode = (s, a, b) => {\r\n      const codeA = a.department + a.catalogNumber;\r\n      const codeB = b.department + b.catalogNumber;\r\n\r\n      return s * ((codeA > codeB) - (codeB > codeA));\r\n    };\r\n\r\n    const courseSortTitle = (s, a, b) => {\r\n      return s * ((a.title > b.title) - (b.title > a.title));\r\n    };\r\n\r\n    const courseSortRating = (s, a, b) => {\r\n      if (!a.rating && !b.rating) {\r\n        if (!a.new && !b.new) return courseSortDepartmentCode(1, a, b);\r\n        if (!a.new) return 1;\r\n        if (!b.new) return -1;\r\n        return courseSortDepartmentCode(1, a, b);\r\n      }\r\n      if (!a.rating) return 1;\r\n      if (!b.rating) return -1;\r\n      return (\r\n        s * (b.rating.score - a.rating.score) ||\r\n        courseSortDepartmentCode(1, a, b)\r\n      );\r\n    };\r\n\r\n    const instructorSortName = (s, a, b) => {\r\n      return s * ((a.fullName > b.fullName) - (b.fullName > a.fullName));\r\n    };\r\n\r\n    const instructorSortRating = (s, a, b) => {\r\n      const ratingA = a.history.rating;\r\n      const ratingB = b.history.rating;\r\n      if (!ratingA && !ratingB) return instructorSortName(1, a, b);\r\n      if (!ratingA) return 1;\r\n      if (!ratingB) return -1;\r\n      return s * (ratingB - ratingA) || instructorSortName(1, a, b);\r\n    };\r\n\r\n    const courseLists = [\r\n      searchedCourses,\r\n      null,\r\n      user.savedCourses.filter(course => course.semester === selectedSemester),\r\n      selectedSchedule.courses\r\n    ];\r\n    const renderContent = (tab, sort, sign) => {\r\n      if (tab === 1) {\r\n        return searchedInstructors\r\n          .slice()\r\n          .sort(\r\n            (sort ? instructorSortRating : instructorSortName).bind(null, sign)\r\n          )\r\n          .map(instructor =>\r\n            <InstructorResult\r\n              selectedSemester={selectedSemester}\r\n              user={user}\r\n              selectedSchedule={selectedSchedule}\r\n              selectedCourse={selectedCourse}\r\n              colors={colors}\r\n              now={now}\r\n              departmentLookup={departmentLookup}\r\n              semesterLookup={semesterLookup}\r\n              colorLookup={colorLookup}\r\n              distributionLookup={distributionLookup}\r\n              pdfLookup={pdfLookup}\r\n              auditLookup={auditLookup}\r\n              onSelectCourse={onSelectCourse}\r\n              onUnselectCourse={onUnselectCourse}\r\n              onSaveCourse={onSaveCourse}\r\n              onUnsaveCourse={onUnsaveCourse}\r\n              onAddCourseToSchedule={onAddCourseToSchedule}\r\n              onRemoveCourseFromSchedule={onRemoveCourseFromSchedule}\r\n              onMouseOverCourse={onMouseOverCourse}\r\n              onMouseOutCourse={onMouseOutCourse}\r\n              onChangeCourseColorInSchedule={onChangeCourseColorInSchedule}\r\n              key={instructor._id}\r\n              instructor={instructor}\r\n              showButtons={true}\r\n            />\r\n          );\r\n      }\r\n\r\n      const courses = courseLists[tab];\r\n\r\n      return courses\r\n        .slice()\r\n        .sort(\r\n          (sort === 2\r\n            ? courseSortRating\r\n            : sort ? courseSortTitle : courseSortDepartmentCode).bind(\r\n            null,\r\n            sign\r\n          )\r\n        )\r\n        .map(course =>\r\n          <CourseResult\r\n            selectedSemester={selectedSemester}\r\n            user={user}\r\n            selectedSchedule={selectedSchedule}\r\n            selectedCourse={selectedCourse}\r\n            colors={colors}\r\n            now={now}\r\n            departmentLookup={departmentLookup}\r\n            semesterLookup={semesterLookup}\r\n            colorLookup={colorLookup}\r\n            distributionLookup={distributionLookup}\r\n            pdfLookup={pdfLookup}\r\n            auditLookup={auditLookup}\r\n            onSelectCourse={onSelectCourse}\r\n            onUnselectCourse={onUnselectCourse}\r\n            onSaveCourse={onSaveCourse}\r\n            onUnsaveCourse={onUnsaveCourse}\r\n            onAddCourseToSchedule={onAddCourseToSchedule}\r\n            onRemoveCourseFromSchedule={onRemoveCourseFromSchedule}\r\n            onMouseOverCourse={onMouseOverCourse}\r\n            onMouseOutCourse={onMouseOutCourse}\r\n            onChangeCourseColorInSchedule={onChangeCourseColorInSchedule}\r\n            key={course._id}\r\n            course={course}\r\n            showButtons={true}\r\n            showInstructors={false}\r\n            showStrictRatings={false}\r\n            showSemester={false}\r\n          />\r\n        );\r\n    };\r\n\r\n    const keys = [searchedCourses, searchedInstructors, 'Saved', 'Selected'];\r\n\r\n    return (\r\n      <SideMenu\r\n        tabLabels={tabLabels}\r\n        tabDescriptions={tabDescriptions}\r\n        sortLabels={sortLabels}\r\n        sortDescriptions={sortDescriptions}\r\n        renderInput={renderInput}\r\n        renderContent={renderContent}\r\n        captionNouns={captionNouns}\r\n        edge=\"left\"\r\n        keys={keys}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default MenuPane;\r\n","import React, { Component } from 'react';\r\nimport './DisplayScheduleSession.css';\r\n\r\nconst DAYS = ['', 'M', 'T', 'W', 'Th', 'F'];\r\nconst DEFAULT_COLOR = '#7F7F7F';\r\n\r\nclass DisplayScheduleSession extends Component {\r\n  minsToString(mins) {\r\n    const h = (Math.floor(mins / 60) - 1) % 12 + 1;\r\n    const m = mins % 60;\r\n    const p = mins >= 12 * 60 ? 'pm' : 'am';\r\n\r\n    return h + ':' + ('00' + m).substr(-2) + ' ' + p;\r\n  }\r\n\r\n  render() {\r\n    const hoveredCourse = this.props.hoveredCourse;\r\n    const hoveredSection = this.props.hoveredSection;\r\n    const colorLookup = this.props.colorLookup;\r\n    const onAddSectionToSchedule = this.props.onAddSectionToSchedule;\r\n    const onRemoveSectionFromSchedule = this.props.onRemoveSectionFromSchedule;\r\n    const onMouseOverSection = this.props.onMouseOverSection;\r\n    const onMouseOutSection = this.props.onMouseOutSection;\r\n    const minTime = this.props.minTime;\r\n    const maxTime = this.props.maxTime;\r\n    const session = this.props.session;\r\n    const position = this.props.position;\r\n\r\n    const minsToString = this.minsToString;\r\n\r\n    const meeting = session.meeting;\r\n    const section = session.section;\r\n    const course = session.course;\r\n    const selected = session.selected;\r\n    const startTime = meeting.startTime;\r\n    const endTime = meeting.endTime;\r\n    const top = (startTime - minTime) / (maxTime - minTime) * 100 + '%';\r\n    const bottom = (maxTime - endTime) / (maxTime - minTime) * 100 + '%';\r\n\r\n    const sectionHovered = section._id === this.props.hoveredSection;\r\n\r\n    const sectionTypeHovered =\r\n      hoveredSection &&\r\n      section._id.substring(0, 11) === hoveredSection.substring(0, 11);\r\n\r\n    const courseHovered = hoveredCourse && course._id === hoveredCourse._id;\r\n\r\n    const color = (colorLookup && colorLookup[course._id]) || DEFAULT_COLOR;\r\n\r\n    const title =\r\n      course.department +\r\n      course.catalogNumber +\r\n      ' ' +\r\n      section.name +\r\n      '\\n' +\r\n      section.meetings\r\n        .map(\r\n          meeting =>\r\n            meeting.days.map(day => DAYS[day]).join('') +\r\n            ' ' +\r\n            minsToString(meeting.startTime) +\r\n            ' \\u2013 ' +\r\n            minsToString(meeting.endTime) +\r\n            '\\n'\r\n        )\r\n        .join('') +\r\n      section.status +\r\n      ' ' +\r\n      (section.seatsTaken >= 0 ? section.seatsTaken : '\\u2013') +\r\n      ' / ' +\r\n      (section.seatsTotal >= 0 ? section.seatsTotal : '\\u2013') +\r\n      '\\n' +\r\n      (meeting.building && meeting.room\r\n        ? meeting.building + ' ' + meeting.room + '\\n'\r\n        : '');\r\n\r\n    const style = {\r\n      top: top,\r\n      bottom: bottom,\r\n      left: position.left,\r\n      right: position.right,\r\n      borderColor: color,\r\n      color: selected || sectionTypeHovered || courseHovered ? null : color,\r\n      backgroundColor:\r\n        selected || sectionTypeHovered || courseHovered ? color : null,\r\n      opacity:\r\n        courseHovered ||\r\n        (selected && sectionHovered) ||\r\n        (sectionTypeHovered && !sectionHovered)\r\n          ? 0.5\r\n          : null\r\n    };\r\n\r\n    return (\r\n      <div\r\n        className=\"DisplayScheduleSession\"\r\n        title={title}\r\n        style={style}\r\n        onClick={(selected\r\n          ? onRemoveSectionFromSchedule\r\n          : onAddSectionToSchedule).bind(null, section._id)}\r\n        onMouseOver={onMouseOverSection.bind(null, section._id)}\r\n        onMouseOut={onMouseOutSection.bind(null, section._id)}\r\n      >\r\n        <div className=\"DisplayScheduleSession-top\">\r\n          <span className=\"DisplayScheduleSession-listing\">\r\n            {course.department + course.catalogNumber}\r\n          </span>\r\n          <span className=\"DisplayScheduleSession-section\">\r\n            {section.name}\r\n          </span>\r\n          <span className=\"DisplayScheduleSession-seats\">\r\n            {(section.seatsTaken >= 0 ? section.seatsTaken : '\\u2013') +\r\n              '\\u00a0/ ' +\r\n              (section.seatsTotal >= 0 ? section.seatsTotal : '\\u2013')}\r\n          </span>\r\n        </div>\r\n        <div className=\"DisplayScheduleSession-bottom\">\r\n          <span className=\"DisplayScheduleSession-location\">\r\n            {meeting.building && meeting.room\r\n              ? meeting.building + ' ' + meeting.room\r\n              : ''}\r\n          </span>{' '}\r\n          <span className=\"DisplayScheduleSession-status\">\r\n            {section.status}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DisplayScheduleSession;\r\n","import React, { Component } from 'react';\r\nimport DisplayScheduleSession from '../DisplayScheduleSession/DisplayScheduleSession';\r\nimport './DisplayScheduleDay.css';\r\n\r\nconst DAYS = ['', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri'];\r\n\r\nclass DisplayScheduleDay extends Component {\r\n  render() {\r\n    const hoveredCourse = this.props.hoveredCourse;\r\n    const hoveredSection = this.props.hoveredSection;\r\n    const colorLookup = this.props.colorLookup;\r\n    const onAddSectionToSchedule = this.props.onAddSectionToSchedule;\r\n    const onRemoveSectionFromSchedule = this.props.onRemoveSectionFromSchedule;\r\n    const onMouseOverSection = this.props.onMouseOverSection;\r\n    const onMouseOutSection = this.props.onMouseOutSection;\r\n\r\n    const day = this.props.day;\r\n    const sessions = this.props.sessions;\r\n    const minTime = this.props.minTime;\r\n    const maxTime = this.props.maxTime;\r\n    const labels = this.props.labels;\r\n\r\n    // POSITIONING THE SESSIONS\r\n    // HANDWRITTEN ALGORITHM HOPEFULLY IT'S CORRECT\r\n    const displayScheduleSessions = [];\r\n    if (!labels) {\r\n      //\r\n      // first sort sessions by start time then length\r\n      const compare = (a, b) => {\r\n        return (\r\n          a.startTime - b.startTime ||\r\n          b.endTime - a.endTime ||\r\n          (a.course.department > b.course.department) -\r\n            (a.course.department < b.course.department) ||\r\n          (a.course.catalogNumber > b.course.catalogNumber) -\r\n            (a.course.catalogNumber < b.course.catalogNumber) ||\r\n          (a.section.name > b.section.name) - (a.section.name < b.section.name)\r\n        );\r\n      };\r\n\r\n      const orderedSessions = sessions.slice().sort(compare);\r\n\r\n      //\r\n      // place each session in an 'entry' to hold metadata\r\n      // arrange entries in columns flushing left based on start / end times\r\n      // create graph links between entries\r\n\r\n      // an index is an ill-named column\r\n      const indexes = [];\r\n\r\n      // virtual entries to represent the left and right edges\r\n      const virtualFirstEntry = { position: { right: 0 } };\r\n      const virtualLastEntry = { position: { left: 100 } };\r\n      // positioning for both left and right is done on an absolute percentage-\r\n      // based x-axis where 0 is the left edge and 100 is the right edge.\r\n      // this is different from the css positioning\r\n\r\n      // process each session\r\n      for (let i = 0; i < orderedSessions.length; i++) {\r\n        const session = orderedSessions[i];\r\n\r\n        // find leftmost index that fits, or create new index\r\n        for (let j = 0; j < indexes.length + 1; j++) {\r\n          // add index if not enough\r\n          if (j === indexes.length) indexes.push([]);\r\n\r\n          const index = indexes[j];\r\n          const lastEntryInIndex = index[index.length - 1];\r\n\r\n          // found the index!\r\n          if (\r\n            index.length === 0 ||\r\n            session.meeting.startTime >=\r\n              lastEntryInIndex.session.meeting.endTime\r\n          ) {\r\n            // create a new entry for this session\r\n            const indexEntry = {\r\n              session: session,\r\n              upLeft: undefined,\r\n              upRight: undefined,\r\n              downLeft: [],\r\n              downRight: []\r\n            };\r\n            /*\r\n              Graph links:\r\n\r\n              upLeft: the unique entry in the index to the left that prevented this\r\n                entry from being placed into that index, or the virtualFirstEntry if\r\n                in the first index.\r\n\r\n              downRight: the entries for which this entry is the upLeft (i.e. the\r\n                reverse of the upLeft links).\r\n\r\n              upRight: the unique entry in the closest index to the right that would\r\n                prevent this entry from being placed into that index (due to\r\n                overlap), or the virtualLastEntry if none exist.\r\n\r\n              downLeft: the entries for which this entry is the upRight (i.e. the\r\n                reverse of the upRight links).\r\n\r\n              */\r\n\r\n            // update left links\r\n            if (j > 0) {\r\n              // find entry to the top left\r\n              const prevIndex = indexes[j - 1];\r\n              const lastEntryInPrevIndex = prevIndex[prevIndex.length - 1];\r\n\r\n              indexEntry.upLeft = lastEntryInPrevIndex;\r\n              lastEntryInPrevIndex.downRight.push(indexEntry);\r\n            } else {\r\n              // use left edge\r\n              indexEntry.upLeft = virtualFirstEntry;\r\n            }\r\n\r\n            // update right links\r\n            for (let k = j + 1; k < indexes.length + 1; k++) {\r\n              if (k === indexes.length) {\r\n                // use right edge\r\n                indexEntry.upRight = virtualLastEntry;\r\n                break;\r\n              }\r\n\r\n              // find entry to the top right\r\n              const nextIndex = indexes[k];\r\n              const lastEntryInNextIndex = nextIndex[nextIndex.length - 1];\r\n              if (\r\n                session.meeting.startTime <\r\n                lastEntryInNextIndex.session.meeting.endTime\r\n              ) {\r\n                // this entry would have overlapped in nextIndex\r\n                indexEntry.upRight = lastEntryInNextIndex;\r\n                lastEntryInNextIndex.downLeft.push(indexEntry);\r\n                break;\r\n              }\r\n            } // end update right links\r\n\r\n            // insert into index\r\n            index.push(indexEntry);\r\n\r\n            break;\r\n          } // end found the index\r\n        } // end for each index\r\n      } // end for each session\r\n\r\n      //\r\n      // position the entries (set their widths)\r\n\r\n      // go through indexes backwards from right to left\r\n      for (let i = indexes.length - 1; i >= 0; i--) {\r\n        const index = indexes[i];\r\n\r\n        // process index from top to bottom\r\n        for (let j = 0; j < index.length; j++) {\r\n          const entry = index[j];\r\n\r\n          // skip already positioned entries\r\n          if (entry.position) continue;\r\n\r\n          // collect linked list towards up left until hit positioned entry\r\n          // we want to stretch these entries to fill the space to the right\r\n          const entryChain = [];\r\n          for (\r\n            let currentEntry = entry;\r\n            !currentEntry.position;\r\n            currentEntry = currentEntry.upLeft\r\n          ) {\r\n            // downLefts may already have been positioned\r\n            let downLeftPositioned = false;\r\n            for (let k = 0; k < currentEntry.downLeft.length; k++) {\r\n              if (currentEntry.downLeft[k].position) downLeftPositioned = true;\r\n            }\r\n            entryChain.push(currentEntry);\r\n            if (downLeftPositioned) break;\r\n          }\r\n\r\n          // try a fit\r\n          const length = entryChain.length;\r\n          const lastEntry = entryChain[length - 1];\r\n          let xStart = 0;\r\n          if (lastEntry.upLeft.position)\r\n            xStart = lastEntry.upLeft.position.right;\r\n          for (let k = 0; k < lastEntry.downLeft.length; k++) {\r\n            const downLeft = lastEntry.downLeft[k];\r\n            if (downLeft.position)\r\n              xStart =\r\n                xStart > downLeft.position.right\r\n                  ? xStart\r\n                  : downLeft.position.right;\r\n          }\r\n          const xEnd = entry.upRight.position.left;\r\n          const widthPer = (xEnd - xStart) / length;\r\n\r\n          // validate potential positions of this fit\r\n          let effectiveLength;\r\n          for (let k = 0; k < entryChain.length; k++) {\r\n            const currentEntry = entryChain[k];\r\n            const currentRight = xEnd - k * widthPer;\r\n\r\n            // uh oh... we stretched too far to the right and it's overlapping!\r\n            if (\r\n              currentEntry.upRight &&\r\n              currentEntry.upRight.position &&\r\n              currentEntry.upRight.position.left < currentRight\r\n            ) {\r\n              // this is how many we can fit without overlapping\r\n              effectiveLength = k;\r\n              break;\r\n            }\r\n          }\r\n\r\n          // finalise positions\r\n          if (!effectiveLength) {\r\n            for (let k = 0; k < length; k++) {\r\n              const currentEntry = entryChain[k];\r\n              currentEntry.position = {\r\n                left: xEnd - (k + 1) * widthPer,\r\n                right: xEnd - k * widthPer\r\n              };\r\n            }\r\n          } else {\r\n            // if overlap happened we cut the linked list short and position up\r\n            // to the cut (how many we can fit without overlapping)\r\n            // the entries positioned will now stretch to the left so we won't\r\n            // create any new overlaps\r\n            const xStartActual =\r\n              entryChain[effectiveLength].upRight.position.left;\r\n            const widthPerActual = (xEnd - xStartActual) / effectiveLength;\r\n\r\n            for (let k = 0; k < effectiveLength; k++) {\r\n              const currentEntry = entryChain[k];\r\n              currentEntry.position = {\r\n                left: xEnd - (k + 1) * widthPerActual,\r\n                right: xEnd - k * widthPerActual\r\n              };\r\n            }\r\n          } // end overlap happened\r\n        } // end loop through index top to bottom\r\n      } // end loop through indexes right to left\r\n\r\n      // create session components\r\n      for (let i = 0; i < indexes.length; i++) {\r\n        for (let j = 0; j < indexes[i].length; j++) {\r\n          const entry = indexes[i][j];\r\n\r\n          // css position\r\n          const position = {\r\n            left: entry.position.left + '%',\r\n            right: 100 - entry.position.right + '%'\r\n          };\r\n          displayScheduleSessions.push(\r\n            <DisplayScheduleSession\r\n              hoveredCourse={hoveredCourse}\r\n              hoveredSection={hoveredSection}\r\n              colorLookup={colorLookup}\r\n              onAddSectionToSchedule={onAddSectionToSchedule}\r\n              onRemoveSectionFromSchedule={onRemoveSectionFromSchedule}\r\n              onMouseOverSection={onMouseOverSection}\r\n              onMouseOutSection={onMouseOutSection}\r\n              minTime={minTime}\r\n              maxTime={maxTime}\r\n              key={i + '.' + j}\r\n              session={entry.session}\r\n              position={position}\r\n            />\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    // GRID CELLS\r\n    const cells = [];\r\n    for (let i = 0; i < 24; i++) {\r\n      if (i * 60 < minTime || i * 60 > maxTime) continue;\r\n      const topTime = Math.max(i * 60, minTime);\r\n      const bottomTime = Math.min((i + 1) * 60, maxTime);\r\n      const top = (topTime - minTime) / (maxTime - minTime) * 100 + '%';\r\n      const bottom = (maxTime - bottomTime) / (maxTime - minTime) * 100 + '%';\r\n      const style = { top: top, bottom: bottom };\r\n      cells.push(\r\n        <div\r\n          key={i}\r\n          className={\r\n            'DisplayScheduleDay-cell' +\r\n            (i % 3 ? '' : ' DisplayScheduleDay-cell-main')\r\n          }\r\n          style={style}\r\n        >\r\n          {labels\r\n            ? <div className=\"DisplayScheduleDay-cell-label\">\r\n                <div className=\"DisplayScheduleDay-cell-text\">\r\n                  {(i - 1) % 12 + 1}\r\n                </div>\r\n              </div>\r\n            : null}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className={\r\n          'DisplayScheduleDay' + (labels ? ' DisplayScheduleDay-labels' : '')\r\n        }\r\n      >\r\n        <div className=\"DisplayScheduleDay-header\">\r\n          {DAYS[day || 0]}\r\n        </div>\r\n        <div className=\"DisplayScheduleDay-body\">\r\n          {cells}\r\n          {displayScheduleSessions}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DisplayScheduleDay;\r\n","import React, { Component } from 'react';\r\nimport './DisplaySchedule.css';\r\nimport DisplayScheduleDay from '../DisplayScheduleDay/DisplayScheduleDay';\r\n\r\nconst MIN_TIME = 8 * 60;\r\nconst MAX_TIME = 24 * 60;\r\n\r\nclass DisplaySchedule extends Component {\r\n  render() {\r\n    const selectedSchedule = this.props.selectedSchedule;\r\n    const hoveredCourse = this.props.hoveredCourse;\r\n    const hoveredSection = this.props.hoveredSection;\r\n    const colorLookup = this.props.colorLookup;\r\n    const onAddSectionToSchedule = this.props.onAddSectionToSchedule;\r\n    const onRemoveSectionFromSchedule = this.props.onRemoveSectionFromSchedule;\r\n    const onMouseOverSection = this.props.onMouseOverSection;\r\n    const onMouseOutSection = this.props.onMouseOutSection;\r\n\r\n    const sessionsByDay = [[], [], [], [], [], []];\r\n    const selectedCourses = selectedSchedule.courses.slice();\r\n\r\n    if (hoveredCourse) {\r\n      let hoveredCourseSelected = false;\r\n      for (let i = 0; i < selectedCourses.length; i++) {\r\n        hoveredCourseSelected |= hoveredCourse._id === selectedCourses[i]._id;\r\n      }\r\n      if (!hoveredCourseSelected) selectedCourses.push(hoveredCourse);\r\n    }\r\n\r\n    const selectedSections = selectedSchedule.sections;\r\n\r\n    for (let i = 0; i < selectedCourses.length; i++) {\r\n      const course = selectedCourses[i];\r\n      const sections = course.sections;\r\n\r\n      for (let j = 0; j < sections.length; j++) {\r\n        const section = sections[j];\r\n\r\n        // skip sections whose type (L, S, P, ...) is taken but isn't selected\r\n        let similarButNotSelected = false;\r\n        let selected = false;\r\n        for (let k = 0; k < selectedSections.length; k++) {\r\n          if (selectedSections[k].substr(0, 11) === section._id.substr(0, 11)) {\r\n            if (selectedSections[k] === section._id) {\r\n              selected = true;\r\n              break;\r\n            } else {\r\n              similarButNotSelected = true;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (similarButNotSelected) continue;\r\n\r\n        const meetings = section.meetings;\r\n        for (let k = 0; k < meetings.length; k++) {\r\n          const meeting = meetings[k];\r\n          let days = meeting.days;\r\n          if (\r\n            !days ||\r\n            days.length === 0 ||\r\n            !meeting.startTime ||\r\n            !meeting.endTime\r\n          ) {\r\n            days = [0];\r\n            continue;\r\n          }\r\n\r\n          for (let l = 0; l < days.length; l++) {\r\n            const day = days[l];\r\n            sessionsByDay[day].push({\r\n              course: course,\r\n              section: section,\r\n              meeting: meeting,\r\n              startTime: meeting.startTime,\r\n              endTime: meeting.endTime,\r\n              selected: selected\r\n            });\r\n          } // each day\r\n        } // each meeting\r\n      } // each section\r\n    } // each course\r\n\r\n    const displayScheduleDays = [];\r\n    displayScheduleDays.push(\r\n      <DisplayScheduleDay\r\n        key={-1}\r\n        minTime={MIN_TIME}\r\n        maxTime={MAX_TIME}\r\n        labels={true}\r\n      />\r\n    );\r\n    for (let i = 1; i < 6; i++) {\r\n      displayScheduleDays.push(\r\n        <DisplayScheduleDay\r\n          hoveredCourse={hoveredCourse}\r\n          hoveredSection={hoveredSection}\r\n          colorLookup={colorLookup}\r\n          onAddSectionToSchedule={onAddSectionToSchedule}\r\n          onRemoveSectionFromSchedule={onRemoveSectionFromSchedule}\r\n          onMouseOverSection={onMouseOverSection}\r\n          onMouseOutSection={onMouseOutSection}\r\n          key={i}\r\n          day={i}\r\n          sessions={sessionsByDay[i]}\r\n          minTime={MIN_TIME}\r\n          maxTime={MAX_TIME}\r\n        />\r\n      );\r\n    }\r\n    displayScheduleDays.push(\r\n      <DisplayScheduleDay\r\n        key={-2}\r\n        minTime={MIN_TIME}\r\n        maxTime={MAX_TIME}\r\n        labels={true}\r\n      />\r\n    );\r\n\r\n    return (\r\n      <div className=\"DisplaySchedule\">\r\n        {displayScheduleDays}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DisplaySchedule;\r\n","import React, { Component } from 'react';\r\nimport CourseRating from '../CourseRating/CourseRating';\r\nimport './DisplayCourseDetails.css';\r\n\r\nclass DisplayCourseDetails extends Component {\r\n  renderBanner(banner) {\r\n    if (!banner) return;\r\n    return (\r\n      <div className=\"DisplayCourseDetails-field DisplayCourseDetails-banner\">\r\n        {banner}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderReservedSeats(reservedSeats) {\r\n    if (!reservedSeats || !reservedSeats.length) return;\r\n    return (\r\n      <div className=\"DisplayCourseDetails-field\">\r\n        <div className=\"DisplayCourseDetails-field-title\">Reserved Seats</div>\r\n        <ul className=\"DisplayCourseDetails-field-content\">\r\n          {reservedSeats.map(reservedSeat =>\r\n            <li\r\n              key={reservedSeat}\r\n              className=\"DisplayCourseDetails-reserved-seat\"\r\n            >\r\n              {reservedSeat}\r\n            </li>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderGrading(grading) {\r\n    if (!grading || !grading.length) return;\r\n\r\n    grading = grading.slice().sort((i1, i2) => i2.percent - i1.percent);\r\n\r\n    return (\r\n      <div className=\"DisplayCourseDetails-field\">\r\n        <div className=\"DisplayCourseDetails-field-title\">Grading</div>\r\n        <table className=\"DisplayCourseDetails-field-content\">\r\n          <tbody>\r\n            {grading.map(item =>\r\n              <tr key={item.component} className=\"DisplayCourseDetails-grading\">\r\n                <td className=\"DisplayCourseDetails-grading-percent\">\r\n                  {`${item.percent}%`}\r\n                </td>\r\n                <td className=\"DisplayCourseDetails-grading-component\">\r\n                  {item.component}\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderReadings(readings) {\r\n    if (!readings || !readings.length) return;\r\n    return (\r\n      <div className=\"DisplayCourseDetails-field\">\r\n        <div className=\"DisplayCourseDetails-field-title\">Readings</div>\r\n        <ul className=\"DisplayCourseDetails-field-content\">\r\n          {readings.map(reading =>\r\n            <li key={reading.title} className=\"DisplayCourseDetails-reading\">\r\n              <div className=\"DisplayCourseDetails-reading-title\">\r\n                {reading.title}\r\n              </div>\r\n              <div className=\"DisplayCourseDetails-reading-author\">\r\n                {reading.author}\r\n              </div>\r\n            </li>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderText(heading, text) {\r\n    if (!text) return;\r\n\r\n    return (\r\n      <div className=\"DisplayCourseDetails-field\">\r\n        <div className=\"DisplayCourseDetails-field-title\">\r\n          {heading}\r\n        </div>\r\n        <p className=\"DisplayCourseDetails-field-content\">\r\n          {text}\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderNumericEvaluations(evaluations, semesterLookup) {\r\n    return evaluations.semester &&\r\n    evaluations.numeric &&\r\n    evaluations.written &&\r\n    Object.keys(evaluations.numeric).length\r\n      ? <div key=\"numeric\" className=\"DisplayCourseDetails-field\">\r\n          <div className=\"DisplayCourseDetails-field-title\">\r\n            {'Numeric Evaluations from ' +\r\n              semesterLookup[evaluations.semester].name}\r\n          </div>\r\n          <ul className=\"DisplayCourseDetails-field-content\">\r\n            {evaluations.numeric\r\n              .slice()\r\n              .sort((i1, i2) => i2.score - i1.score)\r\n              .map(item =>\r\n                <li\r\n                  key={item.field}\r\n                  className=\"DisplayCourseDetails-evaluations-numeric\"\r\n                >\r\n                  <CourseRating score={item.score} />\r\n                  <span className=\"DisplayCourseDetails-evaluations-field\">\r\n                    {item.field}\r\n                  </span>\r\n                </li>\r\n              )}\r\n          </ul>\r\n        </div>\r\n      : null;\r\n  }\r\n\r\n  renderWrittenEvaluations(evaluations, semesterLookup) {\r\n    return (\r\n      <div key=\"written\" className=\"DisplayCourseDetails-field\">\r\n        <div className=\"DisplayCourseDetails-field-title\">\r\n          {evaluations.semester &&\r\n          evaluations.numeric &&\r\n          evaluations.written &&\r\n          Object.keys(evaluations.numeric).length\r\n            ? evaluations.written.length +\r\n              ' Comments from ' +\r\n              semesterLookup[evaluations.semester].name\r\n            : 'No Course Evaluations Available'}\r\n        </div>\r\n        {evaluations.semester &&\r\n        evaluations.numeric &&\r\n        evaluations.written &&\r\n        Object.keys(evaluations.numeric).length\r\n          ? <ul className=\"DisplayCourseDetails-field-content\">\r\n              {evaluations.written.map(item =>\r\n                <li\r\n                  key={item}\r\n                  className=\"DisplayCourseDetails-evaluations-written\"\r\n                >\r\n                  {item}\r\n                </li>\r\n              )}\r\n            </ul>\r\n          : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const selectedCourse = this.props.selectedCourse;\r\n    const semesterLookup = this.props.semesterLookup;\r\n\r\n    return (\r\n      <div className=\"DisplayCourseDetails\">\r\n        {this.renderBanner(selectedCourse.banner)}\r\n        {this.renderText('Description', selectedCourse.description)}\r\n        {this.renderNumericEvaluations(\r\n          selectedCourse.evaluations,\r\n          semesterLookup\r\n        )}\r\n        {this.renderGrading(selectedCourse.grading)}\r\n        {this.renderText('Assignments', selectedCourse.assignments)}\r\n        {this.renderText('Prerequisites', selectedCourse.prerequisites)}\r\n        {this.renderText(\r\n          'Equivalent Courses',\r\n          selectedCourse.equivalentCourses\r\n        )}\r\n        {this.renderText('Other Information', selectedCourse.otherInformation)}\r\n        {this.renderText(\r\n          'Other Requirements',\r\n          selectedCourse.otherRequirements\r\n        )}\r\n        {this.renderReservedSeats(selectedCourse.reservedSeats)}\r\n        {this.renderReadings(selectedCourse.readings)}\r\n        {this.renderWrittenEvaluations(\r\n          selectedCourse.evaluations,\r\n          semesterLookup\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DisplayCourseDetails;\r\n","import React, { Component } from 'react';\r\nimport FaHistory from 'react-icons/lib/fa/history';\r\nimport FaUser from 'react-icons/lib/fa/user';\r\nimport FaSortAlphaAsc from 'react-icons/lib/fa/sort-alpha-asc';\r\nimport FaSortAlphaDesc from 'react-icons/lib/fa/sort-alpha-desc';\r\nimport FaSortAmountAsc from 'react-icons/lib/fa/sort-amount-asc';\r\nimport FaSortAmountDesc from 'react-icons/lib/fa/sort-amount-desc';\r\nimport FaSortNumericAsc from 'react-icons/lib/fa/sort-numeric-asc';\r\nimport FaSortNumericDesc from 'react-icons/lib/fa/sort-numeric-desc';\r\nimport SideMenu from '../SideMenu/SideMenu';\r\nimport CourseResult from '../CourseResult/CourseResult';\r\nimport InstructorResult from '../InstructorResult/InstructorResult';\r\nimport './SidePane.css';\r\n\r\nclass SidePane extends Component {\r\n  render() {\r\n    const user = this.props.user;\r\n    const selectedCourse = this.props.selectedCourse;\r\n    const now = this.props.now;\r\n    const departmentLookup = this.props.departmentLookup;\r\n    const semesterLookup = this.props.semesterLookup;\r\n    const distributionLookup = this.props.distributionLookup;\r\n    const pdfLookup = this.props.pdfLookup;\r\n    const auditLookup = this.props.auditLookup;\r\n    const onSelectCourse = this.props.onSelectCourse;\r\n\r\n    const tabLabels = [<FaHistory />, <FaUser />];\r\n    const tabDescriptions = ['All semesters', 'Instructors'];\r\n    const sortLabels = [\r\n      [\r\n        [<FaSortAmountDesc />, <FaSortAmountAsc />],\r\n        [<FaSortNumericDesc />, <FaSortNumericAsc />]\r\n      ],\r\n      [\r\n        [<FaSortAlphaAsc />, <FaSortAlphaDesc />],\r\n        [<FaSortNumericDesc />, <FaSortNumericAsc />]\r\n      ]\r\n    ];\r\n    const sortDescriptions = [\r\n      ['Sort by semester', 'Sort by rating'],\r\n      ['Sort by name', 'Sort by rating']\r\n    ];\r\n    const captionNouns = ['Semester', 'Instructor'];\r\n\r\n    const renderInput = tab => {\r\n      return;\r\n    };\r\n\r\n    const renderIcon = tab => {\r\n      return;\r\n    };\r\n\r\n    // s is sign in sorting functions\r\n\r\n    const courseSortSemester = (s, a, b) => {\r\n      return s * ((b.semester > a.semester) - (a.semester > b.semester));\r\n    };\r\n\r\n    const courseSortRating = (s, a, b) => {\r\n      if (!a.rating && !b.rating) {\r\n        if (!a.new && !b.new) return courseSortSemester(1, a, b);\r\n        if (!a.new) return 1;\r\n        if (!b.new) return -1;\r\n        return courseSortSemester(1, a, b);\r\n      }\r\n      if (!a.rating) return 1;\r\n      if (!b.rating) return -1;\r\n      return (\r\n        s * (b.rating.score - a.rating.score) || courseSortSemester(1, a, b)\r\n      );\r\n    };\r\n\r\n    const getInstructorRating = instructor => {\r\n      let scoreSum = 0;\r\n      let scoreCount = 0;\r\n      for (let i = 0; i < instructor.courses.length; i++) {\r\n        const course = instructor.courses[i];\r\n\r\n        if (course.rating && course.rating.semester === course.semester) {\r\n          scoreCount++;\r\n          scoreSum += course.rating.score;\r\n        }\r\n      }\r\n      const score = scoreCount ? scoreSum / scoreCount : null;\r\n      const _new = instructor.courses.length === 0;\r\n\r\n      return {\r\n        score: score,\r\n        new: _new\r\n      };\r\n    };\r\n\r\n    const instructorSortName = (s, a, b) => {\r\n      return s * ((a.fullName > b.fullName) - (b.fullName > a.fullName));\r\n    };\r\n\r\n    const instructorSortRating = (s, a, b) => {\r\n      const ratingA = getInstructorRating(a);\r\n      const ratingB = getInstructorRating(b);\r\n      if (!ratingA.score && !ratingB.score) {\r\n        if (!ratingA.new && !ratingB.new) return instructorSortName(1, a, b);\r\n        if (!ratingA.new) return 1;\r\n        if (!ratingB.new) return -1;\r\n        return instructorSortName(1, a, b);\r\n      }\r\n      if (!ratingA.score) return 1;\r\n      if (!ratingB.score) return -1;\r\n      return s * (ratingB.score - ratingA.score) || instructorSortName(1, a, b);\r\n    };\r\n\r\n    const renderContent = (tab, sort, sign) => {\r\n      if (!tab) {\r\n        return selectedCourse.courses\r\n          .slice()\r\n          .sort((sort ? courseSortRating : courseSortSemester).bind(null, sign))\r\n          .map(course =>\r\n            <CourseResult\r\n              user={user}\r\n              selectedCourse={selectedCourse}\r\n              now={now}\r\n              departmentLookup={departmentLookup}\r\n              semesterLookup={semesterLookup}\r\n              distributionLookup={distributionLookup}\r\n              pdfLookup={pdfLookup}\r\n              auditLookup={auditLookup}\r\n              onSelectCourse={onSelectCourse}\r\n              key={course._id}\r\n              course={course}\r\n              showButtons={false}\r\n              showInstructors={true}\r\n              showStrictRatings={true}\r\n              showSemester={false}\r\n            />\r\n          );\r\n      }\r\n\r\n      return selectedCourse.instructors\r\n        .slice()\r\n        .sort(\r\n          (sort ? instructorSortRating : instructorSortName).bind(null, sign)\r\n        )\r\n        .map(instructor =>\r\n          <InstructorResult\r\n            user={user}\r\n            now={now}\r\n            departmentLookup={departmentLookup}\r\n            selectedCourse={selectedCourse}\r\n            semesterLookup={semesterLookup}\r\n            distributionLookup={distributionLookup}\r\n            pdfLookup={pdfLookup}\r\n            auditLookup={auditLookup}\r\n            onSelectCourse={onSelectCourse}\r\n            key={instructor._id}\r\n            instructor={instructor}\r\n            showButtons={false}\r\n          />\r\n        );\r\n    };\r\n\r\n    const renderFilter = tab => {\r\n      return;\r\n    };\r\n\r\n    const keys = ['semester', 'instructor'];\r\n\r\n    return (\r\n      <SideMenu\r\n        tabLabels={tabLabels}\r\n        tabDescriptions={tabDescriptions}\r\n        sortLabels={sortLabels}\r\n        sortDescriptions={sortDescriptions}\r\n        renderInput={renderInput}\r\n        renderIcon={renderIcon}\r\n        renderContent={renderContent}\r\n        renderFilter={renderFilter}\r\n        captionNouns={captionNouns}\r\n        edge=\"right\"\r\n        keys={keys}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default SidePane;\r\n","import React, { Component } from 'react';\r\nimport ReactGA from 'react-ga';\r\nimport FaStar from 'react-icons/lib/fa/star';\r\nimport FaClose from 'react-icons/lib/fa/close';\r\nimport FaListAlt from 'react-icons/lib/fa/list-alt';\r\nimport FaBarChart from 'react-icons/lib/fa/bar-chart';\r\nimport FaExternalLink from 'react-icons/lib/fa/external-link';\r\nimport CourseSummary from '../CourseSummary/CourseSummary';\r\nimport DisplayCourseDetails from '../DisplayCourseDetails/DisplayCourseDetails';\r\nimport SidePane from '../SidePane/SidePane';\r\nimport './DisplayCourse.css';\r\n\r\nclass DisplayCourse extends Component {\r\n  render() {\r\n    const user = this.props.user;\r\n    const selectedCourse = this.props.selectedCourse;\r\n    const now = this.props.now;\r\n    const departmentLookup = this.props.departmentLookup;\r\n    const semesterLookup = this.props.semesterLookup;\r\n    const distributionLookup = this.props.distributionLookup;\r\n    const pdfLookup = this.props.pdfLookup;\r\n    const auditLookup = this.props.auditLookup;\r\n    const onSelectCourse = this.props.onSelectCourse;\r\n    const onUnselectCourse = this.props.onUnselectCourse;\r\n    const onSaveCourse = this.props.onSaveCourse;\r\n    const onUnsaveCourse = this.props.onUnsaveCourse;\r\n\r\n    let saved = false;\r\n    for (let i = 0; i < user.savedCourses.length; i++) {\r\n      saved |= user.savedCourses[i]._id === selectedCourse._id;\r\n    }\r\n\r\n    return (\r\n      <div className=\"DisplayCourse\">\r\n        <div className=\"DisplayCourse-body\">\r\n          <div className=\"DisplayCourse-summary\">\r\n            <CourseSummary\r\n              user={user}\r\n              now={now}\r\n              departmentLookup={departmentLookup}\r\n              semesterLookup={semesterLookup}\r\n              distributionLookup={distributionLookup}\r\n              pdfLookup={pdfLookup}\r\n              auditLookup={auditLookup}\r\n              course={selectedCourse}\r\n              showInstructors={false}\r\n              showStrictRatings={false}\r\n              showSemester={true}\r\n            />\r\n          </div>\r\n          <div className=\"DisplayCourse-buttons\">\r\n            <button\r\n              className={\r\n                'DisplayCourse-button ' +\r\n                (saved ? 'DisplayCourse-unsave' : 'DisplayCourse-save')\r\n              }\r\n              title={saved ? 'Unsave course' : 'Save course'}\r\n              onClick={(saved ? onUnsaveCourse : onSaveCourse).bind(\r\n                null,\r\n                selectedCourse._id\r\n              )}\r\n            >\r\n              <FaStar />\r\n            </button>\r\n            <ReactGA.OutboundLink\r\n              className=\"DisplayCourse-button\"\r\n              title=\"Registrar course information page\"\r\n              eventLabel=\"Clicked registrar course information page\"\r\n              to={`https://registrar.princeton.edu/course-offerings/course_details.xml?courseid=${selectedCourse.systemId}&term=${selectedCourse.semester}`}\r\n              rel=\"noopener noreferrer\"\r\n              target=\"_blank\"\r\n            >\r\n              <FaListAlt />\r\n            </ReactGA.OutboundLink>\r\n            <ReactGA.OutboundLink\r\n              className=\"DisplayCourse-button\"\r\n              title=\"Registrar course evaluation page\"\r\n              eventLabel=\"Clicked registrar course evaluation page\"\r\n              to={`https://reg-captiva.princeton.edu/chart/index.php?terminfo=${selectedCourse.semester}&courseinfo=${selectedCourse.systemId}`}\r\n              rel=\"noopener noreferrer\"\r\n              target=\"_blank\"\r\n            >\r\n              <FaBarChart />\r\n            </ReactGA.OutboundLink>\r\n            {selectedCourse.website\r\n              ? <ReactGA.OutboundLink\r\n                  className=\"DisplayCourse-button\"\r\n                  title=\"Course website\"\r\n                  eventLabel=\"Clicked course website\"\r\n                  to={selectedCourse.website}\r\n                  rel=\"noopener noreferrer\"\r\n                  target=\"_blank\"\r\n                >\r\n                  <FaExternalLink />\r\n                </ReactGA.OutboundLink>\r\n              : null}\r\n            <div className=\"DisplayCourse-stretch\" />\r\n            <button\r\n              className=\"DisplayCourse-button DisplayCourse-close\"\r\n              title=\"Hide course information\"\r\n              onClick={onUnselectCourse.bind(null, selectedCourse._id)}\r\n            >\r\n              <FaClose />\r\n            </button>\r\n          </div>\r\n          <div className=\"DisplayCourse-content\">\r\n            <DisplayCourseDetails\r\n              selectedCourse={selectedCourse}\r\n              semesterLookup={semesterLookup}\r\n            />\r\n          </div>\r\n        </div>\r\n        <SidePane\r\n          user={user}\r\n          now={now}\r\n          departmentLookup={departmentLookup}\r\n          selectedCourse={selectedCourse}\r\n          semesterLookup={semesterLookup}\r\n          distributionLookup={distributionLookup}\r\n          pdfLookup={pdfLookup}\r\n          auditLookup={auditLookup}\r\n          onSelectCourse={onSelectCourse}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DisplayCourse;\r\n","import React, { Component } from 'react';\r\nimport './DisplayPane.css';\r\nimport DisplaySchedule from '../DisplaySchedule/DisplaySchedule';\r\nimport DisplayCourse from '../DisplayCourse/DisplayCourse';\r\n\r\nclass DisplayPane extends Component {\r\n  render() {\r\n    const user = this.props.user;\r\n    const selectedSchedule = this.props.selectedSchedule;\r\n    const selectedCourse = this.props.selectedCourse;\r\n    const hoveredCourse = this.props.hoveredCourse;\r\n    const hoveredSection = this.props.hoveredSection;\r\n    const now = this.props.now;\r\n    const departmentLookup = this.props.departmentLookup;\r\n    const colorLookup = this.props.colorLookup;\r\n    const semesterLookup = this.props.semesterLookup;\r\n    const distributionLookup = this.props.distributionLookup;\r\n    const pdfLookup = this.props.pdfLookup;\r\n    const auditLookup = this.props.auditLookup;\r\n    const onSelectCourse = this.props.onSelectCourse;\r\n    const onUnselectCourse = this.props.onUnselectCourse;\r\n    const onSaveCourse = this.props.onSaveCourse;\r\n    const onUnsaveCourse = this.props.onUnsaveCourse;\r\n    const onAddSectionToSchedule = this.props.onAddSectionToSchedule;\r\n    const onRemoveSectionFromSchedule = this.props.onRemoveSectionFromSchedule;\r\n    const onMouseOverSection = this.props.onMouseOverSection;\r\n    const onMouseOutSection = this.props.onMouseOutSection;\r\n\r\n    return (\r\n      <div className=\"DisplayPane\">\r\n        {selectedCourse\r\n          ? <DisplayCourse\r\n              user={user}\r\n              selectedCourse={selectedCourse}\r\n              now={now}\r\n              departmentLookup={departmentLookup}\r\n              semesterLookup={semesterLookup}\r\n              distributionLookup={distributionLookup}\r\n              pdfLookup={pdfLookup}\r\n              auditLookup={auditLookup}\r\n              onSelectCourse={onSelectCourse}\r\n              onUnselectCourse={onUnselectCourse}\r\n              onSaveCourse={onSaveCourse}\r\n              onUnsaveCourse={onUnsaveCourse}\r\n            />\r\n          : <DisplaySchedule\r\n              selectedSchedule={selectedSchedule}\r\n              hoveredCourse={hoveredCourse}\r\n              hoveredSection={hoveredSection}\r\n              colorLookup={colorLookup}\r\n              onAddSectionToSchedule={onAddSectionToSchedule}\r\n              onRemoveSectionFromSchedule={onRemoveSectionFromSchedule}\r\n              onMouseOverSection={onMouseOverSection}\r\n              onMouseOutSection={onMouseOutSection}\r\n            />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DisplayPane;\r\n","import React, { Component } from 'react';\r\nimport FaClose from 'react-icons/lib/fa/close';\r\nimport './Bubble.css';\r\n\r\nclass Bubble extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      closed: false\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const closed = this.state.closed;\r\n\r\n    if (closed) return null;\r\n\r\n    return (\r\n      <div className=\"Bubble\">\r\n        <div className=\"Bubble-top\">\r\n          <div className=\"Bubble-title\">Note</div>\r\n          <FaClose\r\n            className=\"Bubble-button\"\r\n            onClick={() => {\r\n              this.setState({ closed: true });\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"Bubble-content\">\r\n          Please note that for the foreseeable future, precourser will not be\r\n          updated, but will still be available at{' '}\r\n          <a\r\n            className=\"Bubble-link\"\r\n            href=\"https:/precourser.herokuapp.com\"\r\n            rel=\"noopener noreferrer\"\r\n            target=\"_blank\"\r\n          >\r\n            precourser.herokuapp.com\r\n          </a>\r\n          . The codebase is publicly available{' '}\r\n          <a\r\n            className=\"Bubble-link\"\r\n            href=\"https://github.com/melyshu/precourser\"\r\n            rel=\"noopener noreferrer\"\r\n            target=\"_blank\"\r\n          >\r\n            here\r\n          </a>\r\n          .\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Bubble;\r\n","import React, { Component } from 'react';\nimport ReactGA from 'react-ga';\nimport Navbar from '../Navbar/Navbar';\nimport MenuPane from '../MenuPane/MenuPane';\nimport DisplayPane from '../DisplayPane/DisplayPane';\nimport Virtual from '../Virtual/Virtual';\nimport Bubble from '../Bubble/Bubble';\nimport './App.css';\n\nconst HOVER_TIMEOUT_DELAY = 200;\nconst SEARCH_TIMEOUT_DELAY = 1000;\nconst REFRESH_INTERVAL = 60000;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      departments: [],\n      semesters: [],\n      selectedSemester: null,\n      user: { savedCourses: [] },\n      schedules: [],\n      selectedSchedule: { courses: [] },\n      courseSearch: '',\n      waitingCourseSearch: false,\n      loadingCourseSearch: false,\n      searchedCourses: [],\n      selectedCourse: null,\n      instructorSearch: '',\n      waitingInstructorSearch: false,\n      loadingInstructorSearch: false,\n      searchedInstructors: [],\n      hoveredCourse: null,\n      hoveredSection: null,\n      colors: [],\n      loading: true,\n      now: new Date()\n    };\n\n    this.history = props.history;\n    this.fetchJson = Virtual.fetchJson;\n    this.fetchJsonAndSetState = Virtual.fetchJsonAndSetState;\n\n    const functionsToBind = [\n      'fetchJsonAndSetState',\n      'handleChangeSemester',\n      'handleChangeSchedule',\n      'handleCreateSchedule',\n      'handleRenameSchedule',\n      'handleDeleteSchedule',\n      'handleChangeCourseSearch',\n      'handleSearchCourse',\n      'handleSelectCourse',\n      'handleUnselectCourse',\n      'handleSaveCourse',\n      'handleUnsaveCourse',\n      'handleAddCourseToSchedule',\n      'handleRemoveCourseFromSchedule',\n      'handleAddSectionToSchedule',\n      'handleRemoveSectionFromSchedule',\n      'handleChangeInstructorSearch',\n      'handleSearchInstructor',\n      'handleMouseOverCourse',\n      'handleMouseOutCourse',\n      'handleMouseOverSection',\n      'handleMouseOutSection',\n      'handleChangeCourseColorInSchedule'\n    ];\n\n    for (let i = 0; i < functionsToBind.length; i++) {\n      this[functionsToBind[i]] = this[functionsToBind[i]].bind(this);\n    }\n  }\n\n  handleChangeSemester(semesterId) {\n    ReactGA.event({\n      category: 'Navigation',\n      action: 'Changed Semester',\n      label: semesterId\n    });\n\n    const courseSearch = this.state.courseSearch;\n    if (courseSearch.length < 1) {\n      this.fetchJsonAndSetState(`/api/semester/${semesterId}`);\n    } else {\n      this.fetchJsonAndSetState(\n        `/api/semester/${semesterId}?courseSearch=${encodeURIComponent(\n          courseSearch\n        )}`\n      );\n    }\n  }\n\n  handleChangeSchedule(scheduleId) {\n    ReactGA.event({\n      category: 'Navigation',\n      action: 'Changed Schedule'\n    });\n\n    this.fetchJsonAndSetState(`/api/schedule/${scheduleId}`);\n  }\n\n  handleCreateSchedule(name) {\n    ReactGA.event({\n      category: 'Schedule',\n      action: 'Created Schedule'\n    });\n\n    this.fetchJsonAndSetState(\n      `/api/schedule/semester/${this.state\n        .selectedSemester}/name/${encodeURIComponent(name)}`,\n      { method: 'POST' }\n    );\n  }\n\n  handleRenameSchedule(name) {\n    ReactGA.event({\n      category: 'Schedule',\n      action: 'Renamed Schedule'\n    });\n\n    this.fetchJsonAndSetState(\n      `/api/schedule/${this.state.selectedSchedule\n        ._id}/name/${encodeURIComponent(name)}`,\n      {\n        method: 'PUT'\n      }\n    );\n  }\n\n  handleDeleteSchedule() {\n    ReactGA.event({\n      category: 'Schedule',\n      action: 'Deleted Schedule'\n    });\n\n    this.fetchJsonAndSetState(\n      `/api/schedule/${this.state.selectedSchedule._id}`,\n      {\n        method: 'DELETE'\n      }\n    );\n  }\n\n  handleChangeCourseSearch(query) {\n    const semesterId = this.state.selectedSemester;\n\n    clearTimeout(this.searchTimeout);\n\n    if (query.length < 1) {\n      this.setState({\n        courseSearch: query,\n        searchedCourses: [],\n        waitingCourseSearch: false,\n        loadingCourseSearch: false\n      });\n      return;\n    }\n\n    this.setState({\n      courseSearch: query,\n      waitingCourseSearch: true,\n      loadingCourseSearch: false\n    });\n\n    this.searchTimeout = setTimeout(() => {\n      this.handleSearchCourse(query, semesterId);\n    }, SEARCH_TIMEOUT_DELAY);\n  }\n\n  handleSearchCourse(query, semesterId) {\n    if (\n      this.state.courseSearch === query &&\n      this.state.selectedSemester === semesterId &&\n      !this.state.waitingCourseSearch\n    ) {\n      return;\n    }\n\n    ReactGA.pageview(`/search?sc=course&q=${encodeURIComponent(query)}`);\n    ReactGA.event({\n      category: 'Search',\n      action: 'Searched Course'\n    });\n    this.setState({ waitingCourseSearch: false, loadingCourseSearch: true });\n\n    this.fetchJson(\n      `/api/course/semester/${semesterId}/search/${encodeURIComponent(query)}`\n    ).then(object => {\n      if (\n        this.state.courseSearch === query &&\n        this.state.selectedSemester === semesterId &&\n        this.state.loadingCourseSearch\n      ) {\n        clearTimeout(this.searchTimeout);\n        this.setState(object);\n      }\n    });\n  }\n\n  handleSelectCourse(courseId) {\n    ReactGA.pageview(`/course/${courseId}`);\n    ReactGA.event({\n      category: 'Course',\n      action: 'Opened Course',\n      label: courseId\n    });\n\n    this.history.push(`/course/${courseId}`);\n  }\n\n  handleUnselectCourse() {\n    ReactGA.pageview('/');\n    ReactGA.event({\n      category: 'Course',\n      action: 'Closed Course'\n    });\n\n    this.setState({ selectedCourse: null });\n    this.history.push(`/`);\n  }\n\n  handleSaveCourse(courseId) {\n    ReactGA.event({\n      category: 'Course',\n      action: 'Saved Course',\n      label: courseId\n    });\n\n    this.fetchJsonAndSetState(`/api/save/course/${courseId}`, {\n      method: 'PUT'\n    });\n  }\n\n  handleUnsaveCourse(courseId) {\n    ReactGA.event({\n      category: 'Course',\n      action: 'Unsaved Course',\n      label: courseId\n    });\n\n    this.fetchJsonAndSetState(`/api/save/course/${courseId}`, {\n      method: 'DELETE'\n    });\n  }\n\n  handleAddCourseToSchedule(courseId) {\n    ReactGA.event({\n      category: 'Schedule',\n      action: 'Added Course',\n      label: courseId\n    });\n\n    this.fetchJsonAndSetState(\n      `/api/schedule/${this.state.selectedSchedule._id}/course/${courseId}`,\n      { method: 'PUT' }\n    );\n  }\n\n  handleRemoveCourseFromSchedule(courseId) {\n    ReactGA.event({\n      category: 'Schedule',\n      action: 'Removed Course',\n      label: courseId\n    });\n\n    this.fetchJsonAndSetState(\n      `/api/schedule/${this.state.selectedSchedule._id}/course/${courseId}`,\n      { method: 'DELETE' }\n    );\n    this.handleMouseOutCourse(courseId);\n  }\n\n  handleAddSectionToSchedule(sectionId) {\n    ReactGA.event({\n      category: 'Schedule',\n      action: 'Added Section',\n      label: sectionId\n    });\n\n    this.fetchJsonAndSetState(\n      `/api/schedule/${this.state.selectedSchedule._id}/section/${sectionId}`,\n      { method: 'PUT' }\n    );\n  }\n\n  handleRemoveSectionFromSchedule(sectionId) {\n    ReactGA.event({\n      category: 'Schedule',\n      action: 'Removed Section',\n      label: sectionId\n    });\n\n    this.fetchJsonAndSetState(\n      `/api/schedule/${this.state.selectedSchedule._id}/section/${sectionId}`,\n      { method: 'DELETE' }\n    );\n  }\n\n  handleChangeInstructorSearch(query) {\n    clearTimeout(this.searchTimeout);\n\n    if (query.length < 1) {\n      this.setState({\n        instructorSearch: query,\n        searchedInstructors: [],\n        waitingInstructorSearch: false,\n        loadingInstructorSearch: false\n      });\n      return;\n    }\n\n    this.setState({\n      instructorSearch: query,\n      waitingInstructorSearch: true,\n      loadingInstructorSearch: false\n    });\n\n    this.searchTimeout = setTimeout(() => {\n      this.handleSearchInstructor(query);\n    }, SEARCH_TIMEOUT_DELAY);\n  }\n\n  handleSearchInstructor(query) {\n    if (\n      this.state.instructorSearch === query &&\n      !this.state.waitingInstructorSearch\n    ) {\n      return;\n    }\n\n    ReactGA.pageview(`/search?sc=instructor&q=${encodeURIComponent(query)}`);\n    ReactGA.event({\n      category: 'Search',\n      action: 'Searched Instructor'\n    });\n    this.setState({\n      waitingInstructorSearch: false,\n      loadingInstructorSearch: true\n    });\n\n    this.fetchJson(\n      `/api/instructor/search/${encodeURIComponent(query)}`\n    ).then(object => {\n      if (\n        this.state.instructorSearch === query &&\n        this.state.loadingInstructorSearch\n      ) {\n        clearTimeout(this.searchTimeout);\n        this.setState(object);\n      }\n    });\n  }\n\n  handleMouseOverCourse(course) {\n    clearTimeout(this.hoveredCourseTimeout);\n    this.hoveredCourseTimeout = setTimeout(\n      () => this.setState({ hoveredCourse: course, hoveredSection: null }),\n      HOVER_TIMEOUT_DELAY\n    );\n  }\n\n  handleMouseOutCourse(course) {\n    clearTimeout(this.hoveredCourseTimeout);\n    this.hoveredCourseTimeout = setTimeout(\n      () => this.setState({ hoveredCourse: null }),\n      HOVER_TIMEOUT_DELAY\n    );\n  }\n\n  handleMouseOverSection(sectionId) {\n    this.setState({ hoveredCourse: null, hoveredSection: sectionId });\n  }\n\n  handleMouseOutSection(sectionId) {\n    this.setState({ hoveredSection: null });\n  }\n\n  handleChangeCourseColorInSchedule(courseId, colorId) {\n    this.fetchJsonAndSetState(\n      `/api/schedule/${this.state.selectedSchedule\n        ._id}/course/${courseId}/color/${colorId}`,\n      { method: 'PUT' }\n    );\n  }\n\n  componentDidMount() {\n    this.fetchJson(`/api/startup`).then(object => {\n      this.setState(object);\n      ReactGA.set({ userId: object.user._id });\n      ReactGA.pageview(this.history.location.pathname);\n    });\n\n    this.nowInterval = setInterval(\n      () => this.setState({ now: new Date() }),\n      REFRESH_INTERVAL\n    );\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.nowInterval);\n  }\n\n  render() {\n    const loading = this.state.loading;\n    if (loading)\n      return (\n        <div className=\"App\">\n          <Navbar isEmpty={true} />\n        </div>\n      );\n\n    const departments = this.state.departments;\n    const semesters = this.state.semesters;\n    const selectedSemester = this.state.selectedSemester;\n    const user = this.state.user;\n    const schedules = this.state.schedules;\n    const selectedSchedule = this.state.selectedSchedule;\n    const courseSearch = this.state.courseSearch;\n    const waitingCourseSearch = this.state.waitingCourseSearch;\n    const loadingCourseSearch = this.state.loadingCourseSearch;\n    const searchedCourses = this.state.searchedCourses;\n    const selectedCourse = this.state.selectedCourse;\n    const instructorSearch = this.state.instructorSearch;\n    const waitingInstructorSearch = this.state.waitingInstructorSearch;\n    const loadingInstructorSearch = this.state.loadingInstructorSearch;\n    const searchedInstructors = this.state.searchedInstructors;\n    const hoveredCourse = this.state.hoveredCourse;\n    const hoveredSection = this.state.hoveredSection;\n    const colors = this.state.colors;\n    const now = this.state.now;\n\n    const handleChangeSemester = this.handleChangeSemester;\n    const handleChangeSchedule = this.handleChangeSchedule;\n    const handleCreateSchedule = this.handleCreateSchedule;\n    const handleRenameSchedule = this.handleRenameSchedule;\n    const handleDeleteSchedule = this.handleDeleteSchedule;\n    const handleChangeCourseSearch = this.handleChangeCourseSearch;\n    const handleSearchCourse = this.handleSearchCourse;\n    const handleSelectCourse = this.handleSelectCourse;\n    const handleUnselectCourse = this.handleUnselectCourse;\n    const handleSaveCourse = this.handleSaveCourse;\n    const handleUnsaveCourse = this.handleUnsaveCourse;\n    const handleAddCourseToSchedule = this.handleAddCourseToSchedule;\n    const handleRemoveCourseFromSchedule = this.handleRemoveCourseFromSchedule;\n    const handleAddSectionToSchedule = this.handleAddSectionToSchedule;\n    const handleRemoveSectionFromSchedule = this\n      .handleRemoveSectionFromSchedule;\n    const handleChangeInstructorSearch = this.handleChangeInstructorSearch;\n    const handleSearchInstructor = this.handleSearchInstructor;\n    const handleMouseOverCourse = this.handleMouseOverCourse;\n    const handleMouseOutCourse = this.handleMouseOutCourse;\n    const handleMouseOverSection = this.handleMouseOverSection;\n    const handleMouseOutSection = this.handleMouseOutSection;\n    const handleChangeCourseColorInSchedule = this\n      .handleChangeCourseColorInSchedule;\n\n    // make department lookup\n    const departmentLookup = {};\n    for (let i = 0; i < departments.length; i++) {\n      const department = departments[i];\n      departmentLookup[department._id] = department.name;\n    }\n\n    // make semester lookup\n    const semesterLookup = {};\n    for (let i = 0; i < semesters.length; i++) {\n      const semester = semesters[i];\n      semesterLookup[semester._id] = semester;\n    }\n\n    // make color name lookup\n    const colorNameLookup = {};\n    for (let i = 0; i < colors.length; i++) {\n      colorNameLookup[colors[i]._id] = colors[i].name;\n    }\n\n    // make color lookup\n    const colorLookup = {};\n    for (let i = 0; i < selectedSchedule.colors.length; i++) {\n      colorLookup[selectedSchedule.colors[i].course] =\n        '#' + selectedSchedule.colors[i].color;\n    }\n\n    /*\n    if (hoveredCourse && !colorLookup[hoveredCourse._id]) {\n      colorLookup[hoveredCourse._id] = '#7F7F7F';\n    }*/\n\n    const distributionLookup = {\n      EC: 'Epistemology and Cognition',\n      EM: 'Ethical Thought and Moral Values',\n      HA: 'Historical Analysis',\n      LA: 'Literature and the Arts',\n      SA: 'Social Analysis',\n      QR: 'Quantitative Reasoning',\n      //ST: 'Science and Technology', // deprecated\n      STL: 'Science and Technology with Laboratory',\n      STN: 'Science and Technology without Laboratory',\n      //STX: 'Science and Technology', // deprecated\n      W: 'Writing'\n    };\n\n    const pdfLookup = {\n      PDF: 'PDF available',\n      NPDF: 'No PDF',\n      PDFO: 'PDF only',\n      XPDF: 'No PDF data'\n    };\n\n    const auditLookup = {\n      A: 'Audit available',\n      NA: 'No audit',\n      XA: 'No audit data'\n    };\n\n    const urlCourseId = this.props.match.params.courseId;\n    if (\n      urlCourseId &&\n      (!selectedCourse || selectedCourse._id !== urlCourseId)\n    ) {\n      this.fetchJsonAndSetState(`/api/course/${urlCourseId}`).catch(err => {\n        console.error(err);\n        this.history.replace(`/`);\n      });\n    }\n\n    if (selectedCourse) {\n      document.title = `precourser | ${selectedCourse.department}${selectedCourse.catalogNumber} ${selectedCourse.title}`;\n    } else {\n      document.title = `precourser | ${selectedSchedule.name}`;\n    }\n\n    return (\n      <div className=\"App\">\n        <Navbar\n          semesters={semesters}\n          selectedSemester={selectedSemester}\n          user={user}\n          schedules={schedules}\n          selectedSchedule={selectedSchedule}\n          semesterLookup={semesterLookup}\n          onChangeSemester={handleChangeSemester}\n          onChangeSchedule={handleChangeSchedule}\n          onCreateSchedule={handleCreateSchedule}\n          onRenameSchedule={handleRenameSchedule}\n          onDeleteSchedule={handleDeleteSchedule}\n        />\n        <div className=\"App-page\">\n          <MenuPane\n            selectedSemester={selectedSemester}\n            user={user}\n            selectedSchedule={selectedSchedule}\n            courseSearch={courseSearch}\n            waitingCourseSearch={waitingCourseSearch}\n            loadingCourseSearch={loadingCourseSearch}\n            searchedCourses={searchedCourses}\n            selectedCourse={selectedCourse}\n            instructorSearch={instructorSearch}\n            waitingInstructorSearch={waitingInstructorSearch}\n            loadingInstructorSearch={loadingInstructorSearch}\n            searchedInstructors={searchedInstructors}\n            colors={colors}\n            now={now}\n            departmentLookup={departmentLookup}\n            colorLookup={colorLookup}\n            semesterLookup={semesterLookup}\n            distributionLookup={distributionLookup}\n            pdfLookup={pdfLookup}\n            auditLookup={auditLookup}\n            onChangeCourseSearch={handleChangeCourseSearch}\n            onSearchCourse={handleSearchCourse}\n            onSelectCourse={handleSelectCourse}\n            onUnselectCourse={handleUnselectCourse}\n            onSaveCourse={handleSaveCourse}\n            onUnsaveCourse={handleUnsaveCourse}\n            onAddCourseToSchedule={handleAddCourseToSchedule}\n            onRemoveCourseFromSchedule={handleRemoveCourseFromSchedule}\n            onChangeInstructorSearch={handleChangeInstructorSearch}\n            onSearchInstructor={handleSearchInstructor}\n            onMouseOverCourse={handleMouseOverCourse}\n            onMouseOutCourse={handleMouseOutCourse}\n            onChangeCourseColorInSchedule={handleChangeCourseColorInSchedule}\n          />\n          <DisplayPane\n            user={user}\n            selectedSchedule={selectedSchedule}\n            selectedCourse={selectedCourse}\n            hoveredCourse={hoveredCourse}\n            hoveredSection={hoveredSection}\n            now={now}\n            departmentLookup={departmentLookup}\n            colorLookup={colorLookup}\n            semesterLookup={semesterLookup}\n            distributionLookup={distributionLookup}\n            pdfLookup={pdfLookup}\n            auditLookup={auditLookup}\n            onSelectCourse={handleSelectCourse}\n            onUnselectCourse={handleUnselectCourse}\n            onSaveCourse={handleSaveCourse}\n            onUnsaveCourse={handleUnsaveCourse}\n            onAddSectionToSchedule={handleAddSectionToSchedule}\n            onRemoveSectionFromSchedule={handleRemoveSectionFromSchedule}\n            onMouseOverSection={handleMouseOverSection}\n            onMouseOutSection={handleMouseOutSection}\n          />\n        </div>\n        <Bubble />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from 'react';\r\nimport ReactGA from 'react-ga';\r\nimport Navbar from '../Navbar/Navbar';\r\nimport Bubble from '../Bubble/Bubble';\r\nimport Logo from '../../images/precourser.svg';\r\nimport './Home.css';\r\n\r\nclass Home extends Component {\r\n  componentDidMount() {\r\n    ReactGA.pageview(`/home`);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Home\">\r\n        <Navbar isEmpty={true} />\r\n        <div className=\"Home-page\">\r\n          <div className=\"Home-box\">\r\n            <div className=\"Home-top\">\r\n              <img src={Logo} alt=\"logo\" className=\"Home-logo\" />\r\n              <span className=\"Home-title\">precourser</span>\r\n            </div>\r\n            <div className=\"Home-middle\">\r\n              <div className=\"Home-subtitle\">\r\n                redefining course selection at Princeton\r\n              </div>\r\n            </div>\r\n            <div className=\"Home-bottom\">\r\n              <a\r\n                href={\r\n                  process.env.NODE_ENV === 'production' ? '/auth/login' : '/'\r\n                }\r\n                className=\"Home-button\"\r\n              >\r\n                select courses\r\n              </a>\r\n            </div>\r\n            <div className=\"Home-narrow\">\r\n              Your screen may be too narrow. For the best experience, use a\r\n              larger device.\r\n            </div>\r\n            <div className=\"Home-message\">\r\n              By using precourser, you agree to your data being stored and\r\n              analyzed to improve this service.\r\n            </div>\r\n          </div>\r\n          <div className=\"Home-footer-right\" />\r\n          <div className=\"Home-footer-left\">\r\n            <div>\r\n              logo by{' '}\r\n              <a className=\"Home-link\" href=\"mailto:linht@princeton.edu\">\r\n                linht\r\n              </a>\r\n            </div>\r\n            <div>\r\n              code by{' '}\r\n              <a className=\"Home-link\" href=\"mailto:mshu@princeton.edu\">\r\n                mshu\r\n              </a>\r\n            </div>\r\n            <div>\r\n              <a\r\n                className=\"Home-link\"\r\n                href=\"https://github.com/melyshu/precourser\"\r\n              >\r\n                github repo\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div>\r\n        <Bubble />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport registerServiceWorker from './registerServiceWorker';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport ReactGA from 'react-ga';\nimport App from './components/App/App';\nimport Home from './components/Home/Home';\nimport './normalize.css';\nimport './index.css';\n\nif (process.env.NODE_ENV === 'production') {\n  // Google Analytics tracking\n  ReactGA.initialize('UA-115536526-1');\n}\n\nReactDOM.render(\n  <BrowserRouter>\n    <Switch>\n      <Route exact path=\"/home\" component={Home} />\n      <Route path=\"/course/:courseId\" component={App} />\n      <Route exact path=\"/\" component={App} />\n    </Switch>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\nregisterServiceWorker();\n","module.exports = __webpack_public_path__ + \"static/media/precourser.7b4575d9.svg\";"],"sourceRoot":""}