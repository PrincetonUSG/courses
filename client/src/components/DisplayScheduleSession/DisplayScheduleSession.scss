@import '../../common.scss';

// mixin for different colors
@mixin DisplayScheduleSession-color($color) {
  border-color: $color; //mix($color, $white, 30%);
  background-color: $empty;
  color: $full;

  &.DisplayScheduleSession-course-hovered,
  &.DisplayScheduleSession-section-type-hovered {
    background-color: mix($color, $empty, 30%);
  }

  &.DisplayScheduleSession-selected.DisplayScheduleSession-section-hovered {
    border-color: mix($color, $empty, 30%);
    background-color: mix($color, $empty, 30%);
  }

  &.DisplayScheduleSession-selected,
  &.DisplayScheduleSession-section-hovered {
    border-color: $color;
    background-color: $color;
    color: if(
      abs(lightness($color) - lightness($full)) >
        1.5*abs(lightness($color) - lightness($empty)),
      $full,
      $empty
    );
  }
}

.DisplayScheduleSession {
  position: absolute;
  font-size: 0.4rem;
  padding: 0 $border;
  overflow: hidden;

  @for $i from 1 through length($colors) {
    $j: $i - 1;
    &.DisplayScheduleSession-color#{$j} {
      @include DisplayScheduleSession-color(nth($colors, $i));
    }
  }

  border: $border solid $empty;

  &:hover {
    cursor: pointer;
  }

  .DisplayScheduleSession-top {
    display: flex;
    flex-flow: row wrap;
    justify-content: flex-start;
    align-items: stretch;

    .DisplayScheduleSession-listing {
      margin-right: 0.1rem;
    }

    .DisplayScheduleSession-section {
      flex: 1 1 auto;
      margin-right: 0.1rem;
    }

    .DisplayScheduleSession-seats {
    }
  }

  .DisplayScheduleSession-bottom {
    display: flex;
    flex-flow: row nowrap;
    justify-content: flex-start;
    align-items: stretch;

    .DisplayScheduleSession-location {
      flex: 1 1 auto;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
  }
}
